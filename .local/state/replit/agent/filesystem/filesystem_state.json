{"file_contents":{"ai_assistant.py":{"content":"import os\nimport json\nfrom datetime import date, datetime\nfrom typing import Optional, List, Dict\nfrom openai import OpenAI\n\nOPENAI_API_KEY = os.environ.get(\"OPENAI_API_KEY\")\n\ndef get_openai_client():\n    if not OPENAI_API_KEY:\n        return None\n    return OpenAI(api_key=OPENAI_API_KEY)\n\ndef format_child_context(child: Dict, vaccinations: List[Dict], health_events: List[Dict]) -> str:\n    if not child:\n        return \"No child profile is currently selected.\"\n    \n    dob = child.get('date_of_birth', 'Unknown')\n    if isinstance(dob, str):\n        try:\n            dob_date = date.fromisoformat(dob)\n            from vaccination_guidelines import get_age_string\n            age = get_age_string(dob_date)\n        except:\n            age = \"Unknown\"\n    else:\n        from vaccination_guidelines import get_age_string\n        age = get_age_string(dob)\n    \n    context = f\"\"\"\nChild Information:\n- Name: {child.get('name', 'Unknown')}\n- Date of Birth: {dob}\n- Age: {age}\n- Vaccination Guideline: {child.get('country_guideline', 'WHO')}\n- Gender: {child.get('gender', 'Not specified')}\n- Blood Group: {child.get('blood_group', 'Not specified')}\n- Known Allergies: {child.get('allergies', 'None recorded')}\n\nVaccination Status:\n\"\"\"\n    \n    today = date.today()\n    overdue = []\n    upcoming = []\n    completed = []\n    \n    for vacc in vaccinations:\n        due_date = vacc.get('due_date')\n        if isinstance(due_date, str):\n            due_date = date.fromisoformat(due_date)\n        \n        if vacc.get('status') == 'completed':\n            completed.append(vacc)\n        elif due_date < today:\n            overdue.append(vacc)\n        else:\n            upcoming.append(vacc)\n    \n    context += f\"- Completed Vaccines: {len(completed)}\\n\"\n    context += f\"- Overdue Vaccines: {len(overdue)}\\n\"\n    context += f\"- Upcoming Vaccines: {len([v for v in upcoming if (date.fromisoformat(v['due_date']) if isinstance(v['due_date'], str) else v['due_date']) <= today + __import__('datetime').timedelta(days=30)])}\\n\"\n    \n    if overdue:\n        context += \"\\nOverdue Vaccines:\\n\"\n        for v in overdue[:5]:\n            context += f\"  - {v['vaccine_name']} (was due: {v['due_date']})\\n\"\n    \n    if upcoming:\n        context += \"\\nUpcoming Vaccines (next 30 days):\\n\"\n        for v in upcoming[:5]:\n            due = v['due_date']\n            if isinstance(due, str):\n                due = date.fromisoformat(due)\n            if due <= today + __import__('datetime').timedelta(days=30):\n                context += f\"  - {v['vaccine_name']} (due: {v['due_date']})\\n\"\n    \n    if health_events:\n        context += \"\\nRecent Health Events:\\n\"\n        for event in health_events[:5]:\n            context += f\"  - [{event['event_type']}] {event['title']} on {event['event_date']}\\n\"\n            if event.get('symptoms'):\n                context += f\"    Symptoms: {event['symptoms']}\\n\"\n    \n    return context\n\ndef get_system_prompt(child_context: str) -> str:\n    return f\"\"\"You are a helpful Smart Child Vaccination & Health Assistant. You help parents track and manage their child's vaccination schedule and provide general health guidance.\n\nIMPORTANT GUIDELINES:\n1. You have access to the following child health data:\n{child_context}\n\n2. For vaccination questions:\n   - Reference the actual vaccination schedule data provided\n   - Identify overdue, upcoming, and completed vaccines\n   - Explain vaccine importance when asked\n\n3. For health-related questions:\n   - Provide general, non-diagnostic guidance\n   - Always recommend consulting a healthcare professional for specific medical advice\n   - Be supportive and informative\n\n4. ALWAYS include this disclaimer for health advice:\n   \"‚ö†Ô∏è This information is for educational purposes only and is not a substitute for professional medical advice. Please consult your child's pediatrician for personalized medical guidance.\"\n\n5. Be warm, supportive, and parent-friendly in your responses.\n6. Keep responses concise but informative.\n7. If asked about symptoms, provide general guidance but emphasize consulting a doctor.\n\nCurrent date: {date.today().strftime('%B %d, %Y')}\n\"\"\"\n\ndef chat_with_assistant(\n    user_message: str,\n    child: Optional[Dict],\n    vaccinations: List[Dict],\n    health_events: List[Dict],\n    conversation_history: List[Dict]\n) -> str:\n    client = get_openai_client()\n    \n    if not client:\n        return \"‚ö†Ô∏è AI Assistant is not available. Please configure your OpenAI API key in the Settings page to enable the AI assistant.\"\n    \n    child_context = format_child_context(child, vaccinations, health_events)\n    system_prompt = get_system_prompt(child_context)\n    \n    messages = [{\"role\": \"system\", \"content\": system_prompt}]\n    \n    for msg in conversation_history[-10:]:\n        messages.append({\"role\": msg[\"role\"], \"content\": msg[\"content\"]})\n    \n    messages.append({\"role\": \"user\", \"content\": user_message})\n    \n    try:\n        # the newest OpenAI model is \"gpt-5\" which was released August 7, 2025.\n        # do not change this unless explicitly requested by the user\n        response = client.chat.completions.create(\n            model=\"gpt-5\",\n            messages=messages,\n            max_completion_tokens=1024\n        )\n        return response.choices[0].message.content\n    except Exception as e:\n        return f\"‚ö†Ô∏è I encountered an error: {str(e)}. Please check your API key configuration or try again later.\"\n\ndef transcribe_audio(audio_file_path: str) -> str:\n    client = get_openai_client()\n    \n    if not client:\n        return \"Audio transcription requires an OpenAI API key. Please configure it in Settings.\"\n    \n    try:\n        with open(audio_file_path, \"rb\") as audio_file:\n            response = client.audio.transcriptions.create(\n                model=\"whisper-1\",\n                file=audio_file\n            )\n        return response.text\n    except Exception as e:\n        return f\"Error transcribing audio: {str(e)}\"\n\ndef get_quick_responses() -> List[Dict[str, str]]:\n    return [\n        {\"label\": \"Next vaccine due?\", \"query\": \"When is my child's next vaccine due?\"},\n        {\"label\": \"Missed vaccines?\", \"query\": \"Which vaccines has my child missed?\"},\n        {\"label\": \"Vaccine schedule\", \"query\": \"Can you show me my child's complete vaccination schedule?\"},\n        {\"label\": \"Child has fever\", \"query\": \"My child has a fever, what should I do?\"},\n        {\"label\": \"Vaccine side effects\", \"query\": \"What are common side effects after vaccination?\"},\n        {\"label\": \"Feeding advice\", \"query\": \"Can you give me some general feeding tips for my child's age?\"},\n    ]\n","path":null,"size_bytes":6611,"size_tokens":null},"pages/__init__.py":{"content":"# Pages package for Smart Child Vaccination & Health Assistant\n","path":null,"size_bytes":63,"size_tokens":null},"pages/assistant.py":{"content":"import streamlit as st\nimport os\nimport tempfile\nfrom datetime import date\nimport database as db\nfrom ai_assistant import chat_with_assistant, transcribe_audio, get_quick_responses\n\ndef process_user_message(user_input, child, vaccinations, health_events):\n    if not child:\n        st.warning(\"Please select a child first\")\n        return\n    \n    response = chat_with_assistant(user_input, child, vaccinations, health_events)\n    st.session_state.conversation_history.append({\"role\": \"user\", \"content\": user_input})\n    st.session_state.conversation_history.append({\"role\": \"assistant\", \"content\": response})\n\ndef render():\n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">ü§ñ Health Assistant</h1>', unsafe_allow_html=True)\n    \n    st.markdown(\"\"\"\n    <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;\">\n        <h3 style=\"color: white; margin-top: 0;\">AI Health Assistant</h3>\n        <p style=\"color: white; margin: 0;\">Ask questions about your child's vaccination schedule, health concerns, or get general guidance. I understand natural language - just ask as you would ask a friend!</p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n    \n    children = db.get_all_children()\n    \n    if not children:\n        st.warning(\"Please add a child profile to use the assistant effectively.\")\n        child = None\n        vaccinations = []\n        health_events = []\n    else:\n        if 'selected_child_id' not in st.session_state or st.session_state.selected_child_id is None:\n            st.session_state.selected_child_id = children[0]['id']\n        \n        child_options = {c['name']: c['id'] for c in children}\n        selected_name = st.selectbox(\n            \"Select Child\",\n            options=list(child_options.keys()),\n            index=list(child_options.values()).index(st.session_state.selected_child_id) \n                  if st.session_state.selected_child_id in child_options.values() else 0,\n            key=\"assistant_child_select\"\n        )\n        st.session_state.selected_child_id = child_options[selected_name]\n        \n        child = db.get_child(st.session_state.selected_child_id)\n        vaccinations = db.get_vaccinations(st.session_state.selected_child_id)\n        health_events = db.get_health_events(st.session_state.selected_child_id)\n    \n    if 'conversation_history' not in st.session_state:\n        st.session_state.conversation_history = []\n    \n    st.markdown(\"---\")\n    \n    st.subheader(\"üí° Quick Questions\")\n    quick_responses = get_quick_responses()\n    \n    cols = st.columns(3)\n    for idx, qr in enumerate(quick_responses):\n        with cols[idx % 3]:\n            if st.button(qr['label'], key=f\"quick_{idx}\", width='stretch'):\n                process_user_message(qr['query'], child, vaccinations, health_events)\n                st.rerun()\n    \n    st.markdown(\"---\")\n    \n    st.subheader(\"üí¨ Chat\")\n    \n    chat_container = st.container()\n    \n    with chat_container:\n        for msg in st.session_state.conversation_history:\n            if msg['role'] == 'user':\n                st.markdown(f\"\"\"\n                <div style=\"background-color: #667eea; padding: 12px 15px; border-radius: 15px; \n                            margin: 10px 0; margin-left: 20%; text-align: right; color: white;\">\n                    <strong>You:</strong> {msg['content']}\n                </div>\n                \"\"\", unsafe_allow_html=True)\n            else:\n                st.markdown(f\"\"\"\n                <div style=\"background-color: #e8e8e8; padding: 12px 15px; border-radius: 15px; \n                            margin: 10px 0; margin-right: 20%; color: #333;\">\n                    <strong>Assistant:</strong><br>{msg['content']}\n                </div>\n                \"\"\", unsafe_allow_html=True)\n    \n    st.markdown(\"---\")\n    \n    col1, col2 = st.columns([4, 1])\n    \n    with col1:\n        user_input = st.text_input(\n            \"Type your message\",\n            placeholder=\"e.g., When is my child's next vaccine due?\",\n            key=\"user_message_input\",\n            label_visibility=\"collapsed\"\n        )\n    \n    with col2:\n        send_button = st.button(\"Send\", type=\"primary\", width='stretch')\n    \n    if send_button and user_input:\n        process_user_message(user_input, child, vaccinations, health_events)\n        st.rerun()\n","path":null,"size_bytes":4391,"size_tokens":null},"app.py":{"content":"import streamlit as st\nimport database as db\nfrom PIL import Image\nimport base64\nfrom io import BytesIO\n\nst.set_page_config(\n    page_title=\"KinderCare - Child Health & Vaccination\",\n    page_icon=\"üë∂\",\n    layout=\"wide\",\n    initial_sidebar_state=\"collapsed\"\n)\n\nst.markdown(\"\"\"\n<style>\n    [data-testid=\"stSidebarNav\"] { display: none; }\n    [data-testid=\"stSidebar\"] { display: none; }\n    [data-testid=\"stAppViewContainer\"] { background-color: #ffffff; }\n    \n    body {\n        background-color: #ffffff;\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;\n    }\n    \n    .stApp {\n        background-color: #ffffff;\n    }\n    \n    /* Main content */\n    .main {\n        max-width: 1200px;\n        margin: 0 auto;\n        padding: 2rem 1rem;\n    }\n</style>\n\"\"\", unsafe_allow_html=True)\n\ndb.init_database()\n\nif 'current_page' not in st.session_state:\n    st.session_state.current_page = \"Home\"\n\nif 'logged_in' not in st.session_state:\n    st.session_state.logged_in = False\n\nif 'selected_child_id' not in st.session_state:\n    children = db.get_all_children()\n    st.session_state.selected_child_id = children[0]['id'] if children else None\n\nif 'conversation_history' not in st.session_state:\n    st.session_state.conversation_history = []\n\nst.markdown(\"\"\"\n<style>\n    .nav-button-active {\n        border-bottom: 4px solid #667eea !important;\n    }\n</style>\n\"\"\", unsafe_allow_html=True)\n\nif not st.session_state.logged_in:\n    nav_home, nav_diseases, nav_about, nav_login, nav_signup = st.columns([1, 1, 1, 1, 1])\n\n    with nav_home:\n        button_label = \"üè† Home\" if st.session_state.current_page == \"Home\" else \"Home\"\n        if st.button(button_label, key=\"nav_Home\", use_container_width=True):\n            st.session_state.current_page = \"Home\"\n            st.rerun()\n\n    with nav_diseases:\n        button_label = \"üè• Diseases & Remedies\" if st.session_state.current_page == \"Diseases & Remedies\" else \"Diseases & Remedies\"\n        if st.button(button_label, key=\"nav_DR\", use_container_width=True):\n            st.session_state.current_page = \"Diseases & Remedies\"\n            st.rerun()\n\n    with nav_about:\n        button_label = \"‚ÑπÔ∏è About us\" if st.session_state.current_page == \"About us\" else \"About us\"\n        if st.button(button_label, key=\"nav_About\", use_container_width=True):\n            st.session_state.current_page = \"About us\"\n            st.rerun()\n\n    with nav_login:\n        button_label = \"üîê Login\" if st.session_state.current_page == \"Login\" else \"Login\"\n        if st.button(button_label, key=\"nav_Login\", use_container_width=True):\n            st.session_state.current_page = \"Login\"\n            st.rerun()\n\n    with nav_signup:\n        button_label = \"‚úçÔ∏è Sign Up\" if st.session_state.current_page == \"Sign Up\" else \"Sign Up\"\n        if st.button(button_label, key=\"nav_SignUp\", use_container_width=True):\n            st.session_state.current_page = \"Sign Up\"\n            st.rerun()\nelse:\n    nav_dashboard, nav_vax_sched, nav_vax_timeline, nav_health_timeline, nav_assistant, nav_logout = st.columns([1, 1, 1, 1, 1, 1])\n\n    with nav_dashboard:\n        button_label = \"üìä Dashboard\" if st.session_state.current_page == \"Dashboard\" else \"Dashboard\"\n        if st.button(button_label, key=\"nav_Dashboard\", use_container_width=True):\n            st.session_state.current_page = \"Dashboard\"\n            st.rerun()\n\n    with nav_vax_sched:\n        button_label = \"üíâ Vaccination Schedule\" if st.session_state.current_page == \"Vaccination Schedule\" else \"Vaccination Schedule\"\n        if st.button(button_label, key=\"nav_VaxSched\", use_container_width=True):\n            st.session_state.current_page = \"Vaccination Schedule\"\n            st.rerun()\n\n    with nav_vax_timeline:\n        button_label = \"üìÖ Vaccination Timeline\" if st.session_state.current_page == \"Vaccination Timeline\" else \"Vaccination Timeline\"\n        if st.button(button_label, key=\"nav_VaxTimeline\", use_container_width=True):\n            st.session_state.current_page = \"Vaccination Timeline\"\n            st.rerun()\n\n    with nav_health_timeline:\n        button_label = \"‚ù§Ô∏è Health Timeline\" if st.session_state.current_page == \"Health Timeline\" else \"Health Timeline\"\n        if st.button(button_label, key=\"nav_HealthTimeline\", use_container_width=True):\n            st.session_state.current_page = \"Health Timeline\"\n            st.rerun()\n\n    with nav_assistant:\n        button_label = \"ü§ñ Assistant\" if st.session_state.current_page == \"Assistant\" else \"Assistant\"\n        if st.button(button_label, key=\"nav_Assistant\", use_container_width=True):\n            st.session_state.current_page = \"Assistant\"\n            st.rerun()\n\n    with nav_logout:\n        if st.button(\"üö™ Logout\", key=\"nav_Logout\", use_container_width=True):\n            st.session_state.logged_in = False\n            st.session_state.current_page = \"Home\"\n            st.rerun()\n\nst.markdown(\"\"\"\n<style>\n    [data-testid=\"stButton\"] button {\n        color: white !important;\n        background-color: #667eea !important;\n        border: none !important;\n        font-weight: 700 !important;\n        font-size: 1rem !important;\n        transition: all 0.3s ease !important;\n        padding: 0.5rem 1rem !important;\n    }\n    \n    [data-testid=\"stButton\"] button:hover {\n        color: white !important;\n        background-color: #764ba2 !important;\n    }\n    \n    [data-testid=\"stButton\"] button:active {\n        background-color: #667eea !important;\n    }\n    \n    [data-testid=\"stButton\"] button:focus {\n        background-color: #667eea !important;\n        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3) !important;\n    }\n</style>\n\"\"\", unsafe_allow_html=True)\n\nif st.session_state.current_page == \"Home\":\n    col_text, col_image = st.columns([1.2, 1])\n\n    with col_text:\n        st.markdown(\"\"\"\n<h1 style=\"font-size: 5rem; font-weight: 800; color: #667eea; margin: 8rem 0 0 0; text-align: left; padding: 0;\">\n    KinderCare\n</h1>\n<h2 style=\"font-size: 2.5rem; font-weight: 600; color: #333; margin: 0 0 0.5rem 0; text-align: left; padding: 0;\">\n    Your Child's Health & Vaccination<br>Companion\n</h2>\n<p style=\"font-size: 1.4rem; color: #666; text-align: left; margin: 0.5rem 0 2rem 0; padding: 0;\">\n    Track vaccinations, monitor health milestones, and connect with healthcare experts\n</p>\n\"\"\", unsafe_allow_html=True)\n\n    with col_image:\n        # Load and encode image as base64 to avoid fullscreen icon\n        try:\n            img = Image.open(\"home_hero.jpg\")\n            buffered = BytesIO()\n            img.save(buffered, format=\"JPEG\")\n            img_str = base64.b64encode(buffered.getvalue()).decode()\n            st.markdown(f'<img src=\"data:image/jpeg;base64,{img_str}\" style=\"width: 100%; max-width: 500px;\">', unsafe_allow_html=True)\n        except:\n            st.write(\"Image not found\")\n\nif st.session_state.current_page == \"Home\":\n    from pages import home\n    home.render()\nelif st.session_state.current_page == \"Diseases & Remedies\":\n    from pages import diseases_remedies\n    diseases_remedies.render()\nelif st.session_state.current_page == \"About us\":\n    from pages import about_us\n    about_us.render()\nelif st.session_state.current_page == \"Dashboard\":\n    from pages import dashboard\n    dashboard.render()\nelif st.session_state.current_page == \"Vaccination Schedule\":\n    from pages import vaccination_schedule\n    vaccination_schedule.render()\nelif st.session_state.current_page == \"Vaccination Timeline\":\n    from pages import vaccination_timeline\n    vaccination_timeline.render()\nelif st.session_state.current_page == \"Health Timeline\":\n    from pages import health_timeline\n    health_timeline.render()\nelif st.session_state.current_page == \"Assistant\":\n    from pages import assistant\n    assistant.render()\nelif st.session_state.current_page == \"Login\":\n    from pages import login\n    login.render()\nelif st.session_state.current_page == \"Sign Up\":\n    from pages import signup\n    signup.render()\n","path":null,"size_bytes":7987,"size_tokens":null},"vaccination_guidelines.py":{"content":"from datetime import date, timedelta\nfrom dateutil.relativedelta import relativedelta\nfrom typing import List, Dict\n\nINDIA_UIP_SCHEDULE = [\n    {\"vaccine\": \"BCG\", \"code\": \"BCG\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Bacillus Calmette-Guerin vaccine for Tuberculosis\"},\n    {\"vaccine\": \"OPV-0\", \"code\": \"OPV0\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Oral Polio Vaccine - Zero dose\"},\n    {\"vaccine\": \"Hepatitis B-Birth\", \"code\": \"HEPB0\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Hepatitis B vaccine - Birth dose\"},\n    {\"vaccine\": \"OPV-1\", \"code\": \"OPV1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Oral Polio Vaccine - First dose\"},\n    {\"vaccine\": \"Pentavalent-1\", \"code\": \"PENTA1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"DPT + Hep B + Hib - First dose\"},\n    {\"vaccine\": \"Rotavirus-1\", \"code\": \"ROTA1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Rotavirus vaccine - First dose\"},\n    {\"vaccine\": \"PCV-1\", \"code\": \"PCV1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Pneumococcal Conjugate Vaccine - First dose\"},\n    {\"vaccine\": \"IPV-1\", \"code\": \"IPV1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Inactivated Polio Vaccine - First dose\"},\n    {\"vaccine\": \"OPV-2\", \"code\": \"OPV2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Oral Polio Vaccine - Second dose\"},\n    {\"vaccine\": \"Pentavalent-2\", \"code\": \"PENTA2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"DPT + Hep B + Hib - Second dose\"},\n    {\"vaccine\": \"Rotavirus-2\", \"code\": \"ROTA2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Rotavirus vaccine - Second dose\"},\n    {\"vaccine\": \"OPV-3\", \"code\": \"OPV3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Oral Polio Vaccine - Third dose\"},\n    {\"vaccine\": \"Pentavalent-3\", \"code\": \"PENTA3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"DPT + Hep B + Hib - Third dose\"},\n    {\"vaccine\": \"Rotavirus-3\", \"code\": \"ROTA3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Rotavirus vaccine - Third dose\"},\n    {\"vaccine\": \"PCV-2\", \"code\": \"PCV2\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Pneumococcal Conjugate Vaccine - Second dose\"},\n    {\"vaccine\": \"IPV-2\", \"code\": \"IPV2\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Inactivated Polio Vaccine - Second dose\"},\n    {\"vaccine\": \"Measles-1 / MR-1\", \"code\": \"MR1\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Measles-Rubella vaccine - First dose\"},\n    {\"vaccine\": \"Vitamin A-1\", \"code\": \"VITA1\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Vitamin A supplementation - First dose\"},\n    {\"vaccine\": \"PCV Booster\", \"code\": \"PCVB\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Pneumococcal Conjugate Vaccine - Booster\"},\n    {\"vaccine\": \"JE-1\", \"code\": \"JE1\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Japanese Encephalitis - First dose (endemic areas)\"},\n    {\"vaccine\": \"MR-2\", \"code\": \"MR2\", \"age_weeks\": 65, \"age_label\": \"16-24 Months\", \"description\": \"Measles-Rubella vaccine - Second dose\"},\n    {\"vaccine\": \"DPT Booster-1\", \"code\": \"DPTB1\", \"age_weeks\": 65, \"age_label\": \"16-24 Months\", \"description\": \"DPT Booster - First dose\"},\n    {\"vaccine\": \"OPV Booster\", \"code\": \"OPVB\", \"age_weeks\": 65, \"age_label\": \"16-24 Months\", \"description\": \"Oral Polio Vaccine - Booster\"},\n    {\"vaccine\": \"JE-2\", \"code\": \"JE2\", \"age_weeks\": 65, \"age_label\": \"16-24 Months\", \"description\": \"Japanese Encephalitis - Second dose\"},\n    {\"vaccine\": \"Vitamin A-2\", \"code\": \"VITA2\", \"age_weeks\": 65, \"age_label\": \"16 Months\", \"description\": \"Vitamin A supplementation - Second dose\"},\n    {\"vaccine\": \"DPT Booster-2\", \"code\": \"DPTB2\", \"age_weeks\": 260, \"age_label\": \"5-6 Years\", \"description\": \"DPT Booster - Second dose\"},\n    {\"vaccine\": \"Td/TT\", \"code\": \"TD\", \"age_weeks\": 520, \"age_label\": \"10 Years\", \"description\": \"Tetanus and Diphtheria vaccine\"},\n    {\"vaccine\": \"Td/TT\", \"code\": \"TD2\", \"age_weeks\": 780, \"age_label\": \"16 Years\", \"description\": \"Tetanus and Diphtheria vaccine - Booster\"},\n]\n\nWHO_SCHEDULE = [\n    {\"vaccine\": \"BCG\", \"code\": \"BCG\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Bacillus Calmette-Guerin for Tuberculosis\"},\n    {\"vaccine\": \"Hepatitis B-Birth\", \"code\": \"HEPB0\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Hepatitis B vaccine - Birth dose (within 24 hours)\"},\n    {\"vaccine\": \"OPV-0\", \"code\": \"OPV0\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Oral Polio Vaccine - Birth dose\"},\n    {\"vaccine\": \"DTP-1\", \"code\": \"DTP1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Diphtheria-Tetanus-Pertussis - First dose\"},\n    {\"vaccine\": \"Hepatitis B-1\", \"code\": \"HEPB1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Hepatitis B vaccine - First dose\"},\n    {\"vaccine\": \"Hib-1\", \"code\": \"HIB1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Haemophilus influenzae type b - First dose\"},\n    {\"vaccine\": \"Polio-1\", \"code\": \"POLIO1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Polio vaccine - First dose\"},\n    {\"vaccine\": \"Pneumococcal-1\", \"code\": \"PCV1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Pneumococcal Conjugate Vaccine - First dose\"},\n    {\"vaccine\": \"Rotavirus-1\", \"code\": \"ROTA1\", \"age_weeks\": 6, \"age_label\": \"6 Weeks\", \"description\": \"Rotavirus vaccine - First dose\"},\n    {\"vaccine\": \"DTP-2\", \"code\": \"DTP2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Diphtheria-Tetanus-Pertussis - Second dose\"},\n    {\"vaccine\": \"Hepatitis B-2\", \"code\": \"HEPB2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Hepatitis B vaccine - Second dose\"},\n    {\"vaccine\": \"Hib-2\", \"code\": \"HIB2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Haemophilus influenzae type b - Second dose\"},\n    {\"vaccine\": \"Polio-2\", \"code\": \"POLIO2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Polio vaccine - Second dose\"},\n    {\"vaccine\": \"Pneumococcal-2\", \"code\": \"PCV2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Pneumococcal Conjugate Vaccine - Second dose\"},\n    {\"vaccine\": \"Rotavirus-2\", \"code\": \"ROTA2\", \"age_weeks\": 10, \"age_label\": \"10 Weeks\", \"description\": \"Rotavirus vaccine - Second dose\"},\n    {\"vaccine\": \"DTP-3\", \"code\": \"DTP3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Diphtheria-Tetanus-Pertussis - Third dose\"},\n    {\"vaccine\": \"Hepatitis B-3\", \"code\": \"HEPB3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Hepatitis B vaccine - Third dose\"},\n    {\"vaccine\": \"Hib-3\", \"code\": \"HIB3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Haemophilus influenzae type b - Third dose\"},\n    {\"vaccine\": \"Polio-3\", \"code\": \"POLIO3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Polio vaccine - Third dose\"},\n    {\"vaccine\": \"Pneumococcal-3\", \"code\": \"PCV3\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Pneumococcal Conjugate Vaccine - Third dose\"},\n    {\"vaccine\": \"IPV\", \"code\": \"IPV\", \"age_weeks\": 14, \"age_label\": \"14 Weeks\", \"description\": \"Inactivated Polio Vaccine\"},\n    {\"vaccine\": \"Measles-1\", \"code\": \"MCV1\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Measles containing vaccine - First dose\"},\n    {\"vaccine\": \"Rubella\", \"code\": \"RCV\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Rubella containing vaccine\"},\n    {\"vaccine\": \"Yellow Fever\", \"code\": \"YF\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Yellow Fever vaccine (endemic areas)\"},\n    {\"vaccine\": \"Vitamin A\", \"code\": \"VITA\", \"age_weeks\": 39, \"age_label\": \"9 Months\", \"description\": \"Vitamin A supplementation\"},\n    {\"vaccine\": \"Measles-2\", \"code\": \"MCV2\", \"age_weeks\": 65, \"age_label\": \"15-18 Months\", \"description\": \"Measles containing vaccine - Second dose\"},\n    {\"vaccine\": \"DTP Booster\", \"code\": \"DTPB\", \"age_weeks\": 65, \"age_label\": \"15-18 Months\", \"description\": \"DTP Booster dose\"},\n]\n\nCDC_SCHEDULE = [\n    {\"vaccine\": \"Hepatitis B-1\", \"code\": \"HEPB1\", \"age_weeks\": 0, \"age_label\": \"At Birth\", \"description\": \"Hepatitis B vaccine - First dose\"},\n    {\"vaccine\": \"Hepatitis B-2\", \"code\": \"HEPB2\", \"age_weeks\": 4, \"age_label\": \"1-2 Months\", \"description\": \"Hepatitis B vaccine - Second dose\"},\n    {\"vaccine\": \"DTaP-1\", \"code\": \"DTAP1\", \"age_weeks\": 8, \"age_label\": \"2 Months\", \"description\": \"Diphtheria, Tetanus, Pertussis - First dose\"},\n    {\"vaccine\": \"Hib-1\", \"code\": \"HIB1\", \"age_weeks\": 8, \"age_label\": \"2 Months\", \"description\": \"Haemophilus influenzae type b - First dose\"},\n    {\"vaccine\": \"IPV-1\", \"code\": \"IPV1\", \"age_weeks\": 8, \"age_label\": \"2 Months\", \"description\": \"Inactivated Polio Vaccine - First dose\"},\n    {\"vaccine\": \"PCV13-1\", \"code\": \"PCV1\", \"age_weeks\": 8, \"age_label\": \"2 Months\", \"description\": \"Pneumococcal Conjugate Vaccine - First dose\"},\n    {\"vaccine\": \"RV-1\", \"code\": \"RV1\", \"age_weeks\": 8, \"age_label\": \"2 Months\", \"description\": \"Rotavirus vaccine - First dose\"},\n    {\"vaccine\": \"DTaP-2\", \"code\": \"DTAP2\", \"age_weeks\": 16, \"age_label\": \"4 Months\", \"description\": \"Diphtheria, Tetanus, Pertussis - Second dose\"},\n    {\"vaccine\": \"Hib-2\", \"code\": \"HIB2\", \"age_weeks\": 16, \"age_label\": \"4 Months\", \"description\": \"Haemophilus influenzae type b - Second dose\"},\n    {\"vaccine\": \"IPV-2\", \"code\": \"IPV2\", \"age_weeks\": 16, \"age_label\": \"4 Months\", \"description\": \"Inactivated Polio Vaccine - Second dose\"},\n    {\"vaccine\": \"PCV13-2\", \"code\": \"PCV2\", \"age_weeks\": 16, \"age_label\": \"4 Months\", \"description\": \"Pneumococcal Conjugate Vaccine - Second dose\"},\n    {\"vaccine\": \"RV-2\", \"code\": \"RV2\", \"age_weeks\": 16, \"age_label\": \"4 Months\", \"description\": \"Rotavirus vaccine - Second dose\"},\n    {\"vaccine\": \"DTaP-3\", \"code\": \"DTAP3\", \"age_weeks\": 24, \"age_label\": \"6 Months\", \"description\": \"Diphtheria, Tetanus, Pertussis - Third dose\"},\n    {\"vaccine\": \"Hib-3\", \"code\": \"HIB3\", \"age_weeks\": 24, \"age_label\": \"6 Months\", \"description\": \"Haemophilus influenzae type b - Third dose\"},\n    {\"vaccine\": \"IPV-3\", \"code\": \"IPV3\", \"age_weeks\": 24, \"age_label\": \"6 Months\", \"description\": \"Inactivated Polio Vaccine - Third dose\"},\n    {\"vaccine\": \"PCV13-3\", \"code\": \"PCV3\", \"age_weeks\": 24, \"age_label\": \"6 Months\", \"description\": \"Pneumococcal Conjugate Vaccine - Third dose\"},\n    {\"vaccine\": \"RV-3\", \"code\": \"RV3\", \"age_weeks\": 24, \"age_label\": \"6 Months\", \"description\": \"Rotavirus vaccine - Third dose\"},\n    {\"vaccine\": \"Hepatitis B-3\", \"code\": \"HEPB3\", \"age_weeks\": 24, \"age_label\": \"6-18 Months\", \"description\": \"Hepatitis B vaccine - Third dose\"},\n    {\"vaccine\": \"Influenza (Yearly)\", \"code\": \"FLU1\", \"age_weeks\": 26, \"age_label\": \"6 Months+\", \"description\": \"Influenza vaccine - Annual dose\"},\n    {\"vaccine\": \"MMR-1\", \"code\": \"MMR1\", \"age_weeks\": 52, \"age_label\": \"12-15 Months\", \"description\": \"Measles, Mumps, Rubella - First dose\"},\n    {\"vaccine\": \"PCV13-4\", \"code\": \"PCV4\", \"age_weeks\": 52, \"age_label\": \"12-15 Months\", \"description\": \"Pneumococcal Conjugate Vaccine - Fourth dose\"},\n    {\"vaccine\": \"Hib-4\", \"code\": \"HIB4\", \"age_weeks\": 52, \"age_label\": \"12-15 Months\", \"description\": \"Haemophilus influenzae type b - Fourth dose\"},\n    {\"vaccine\": \"Varicella-1\", \"code\": \"VAR1\", \"age_weeks\": 52, \"age_label\": \"12-15 Months\", \"description\": \"Chickenpox vaccine - First dose\"},\n    {\"vaccine\": \"Hepatitis A-1\", \"code\": \"HEPA1\", \"age_weeks\": 52, \"age_label\": \"12-23 Months\", \"description\": \"Hepatitis A vaccine - First dose\"},\n    {\"vaccine\": \"DTaP-4\", \"code\": \"DTAP4\", \"age_weeks\": 65, \"age_label\": \"15-18 Months\", \"description\": \"Diphtheria, Tetanus, Pertussis - Fourth dose\"},\n    {\"vaccine\": \"Hepatitis A-2\", \"code\": \"HEPA2\", \"age_weeks\": 78, \"age_label\": \"18+ Months\", \"description\": \"Hepatitis A vaccine - Second dose\"},\n    {\"vaccine\": \"DTaP-5\", \"code\": \"DTAP5\", \"age_weeks\": 208, \"age_label\": \"4-6 Years\", \"description\": \"Diphtheria, Tetanus, Pertussis - Fifth dose\"},\n    {\"vaccine\": \"IPV-4\", \"code\": \"IPV4\", \"age_weeks\": 208, \"age_label\": \"4-6 Years\", \"description\": \"Inactivated Polio Vaccine - Fourth dose\"},\n    {\"vaccine\": \"MMR-2\", \"code\": \"MMR2\", \"age_weeks\": 208, \"age_label\": \"4-6 Years\", \"description\": \"Measles, Mumps, Rubella - Second dose\"},\n    {\"vaccine\": \"Varicella-2\", \"code\": \"VAR2\", \"age_weeks\": 208, \"age_label\": \"4-6 Years\", \"description\": \"Chickenpox vaccine - Second dose\"},\n    {\"vaccine\": \"Tdap\", \"code\": \"TDAP\", \"age_weeks\": 572, \"age_label\": \"11-12 Years\", \"description\": \"Tetanus, Diphtheria, Pertussis booster\"},\n    {\"vaccine\": \"HPV-1\", \"code\": \"HPV1\", \"age_weeks\": 572, \"age_label\": \"11-12 Years\", \"description\": \"Human Papillomavirus - First dose\"},\n    {\"vaccine\": \"HPV-2\", \"code\": \"HPV2\", \"age_weeks\": 598, \"age_label\": \"11-12 Years + 6mo\", \"description\": \"Human Papillomavirus - Second dose\"},\n    {\"vaccine\": \"Meningococcal-1\", \"code\": \"MCV1\", \"age_weeks\": 572, \"age_label\": \"11-12 Years\", \"description\": \"Meningococcal conjugate vaccine - First dose\"},\n    {\"vaccine\": \"Meningococcal-2\", \"code\": \"MCV2\", \"age_weeks\": 832, \"age_label\": \"16 Years\", \"description\": \"Meningococcal conjugate vaccine - Booster\"},\n]\n\ndef get_schedule_for_guideline(guideline: str) -> List[Dict]:\n    if guideline == \"India (UIP)\":\n        return INDIA_UIP_SCHEDULE\n    elif guideline == \"WHO\":\n        return WHO_SCHEDULE\n    elif guideline == \"CDC (USA)\":\n        return CDC_SCHEDULE\n    return WHO_SCHEDULE\n\ndef calculate_due_date(dob: date, age_weeks: int) -> date:\n    return dob + timedelta(weeks=age_weeks)\n\ndef generate_vaccination_schedule(dob: date, guideline: str) -> List[Dict]:\n    schedule = get_schedule_for_guideline(guideline)\n    vaccination_schedule = []\n    \n    for vaccine in schedule:\n        due_date = calculate_due_date(dob, vaccine[\"age_weeks\"])\n        vaccination_schedule.append({\n            \"vaccine_name\": vaccine[\"vaccine\"],\n            \"vaccine_code\": vaccine[\"code\"],\n            \"due_date\": due_date,\n            \"age_label\": vaccine[\"age_label\"],\n            \"description\": vaccine[\"description\"]\n        })\n    \n    return vaccination_schedule\n\ndef get_vaccine_status(due_date: date, administered_date: date = None) -> str:\n    today = date.today()\n    \n    if administered_date:\n        return \"completed\"\n    elif due_date < today:\n        return \"overdue\"\n    elif due_date <= today + timedelta(days=30):\n        return \"upcoming\"\n    else:\n        return \"pending\"\n\ndef categorize_vaccinations(vaccinations: List[Dict]) -> Dict[str, List[Dict]]:\n    today = date.today()\n    categories = {\n        \"overdue\": [],\n        \"upcoming\": [],\n        \"completed\": [],\n        \"pending\": []\n    }\n    \n    for vacc in vaccinations:\n        due_date = vacc.get('due_date')\n        if isinstance(due_date, str):\n            due_date = date.fromisoformat(due_date)\n        \n        if vacc.get('status') == 'completed':\n            categories[\"completed\"].append(vacc)\n        elif due_date < today:\n            categories[\"overdue\"].append(vacc)\n        elif due_date <= today + timedelta(days=30):\n            categories[\"upcoming\"].append(vacc)\n        else:\n            categories[\"pending\"].append(vacc)\n    \n    return categories\n\ndef get_age_string(dob: date) -> str:\n    today = date.today()\n    delta = relativedelta(today, dob)\n    \n    parts = []\n    if delta.years > 0:\n        parts.append(f\"{delta.years} year{'s' if delta.years > 1 else ''}\")\n    if delta.months > 0:\n        parts.append(f\"{delta.months} month{'s' if delta.months > 1 else ''}\")\n    if delta.days > 0 and delta.years == 0:\n        parts.append(f\"{delta.days} day{'s' if delta.days > 1 else ''}\")\n    \n    return \", \".join(parts) if parts else \"Newborn\"\n","path":null,"size_bytes":15607,"size_tokens":null},"pages/dashboard.py":{"content":"import streamlit as st\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom datetime import date, timedelta\nimport database as db\nfrom vaccination_guidelines import categorize_vaccinations, get_age_string\nfrom notifications import get_in_app_notifications\n\ndef render():\n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">Dashboard</h1>', unsafe_allow_html=True)\n    \n    children = db.get_all_children()\n    \n    if not children:\n        st.info(\"Welcome! Please add a child profile in the Settings page to get started.\")\n        return\n    \n    if 'selected_child_id' not in st.session_state or st.session_state.selected_child_id is None:\n        st.session_state.selected_child_id = children[0]['id']\n    \n    child_options = {c['name']: c['id'] for c in children}\n    selected_name = st.selectbox(\n        \"Select Child\",\n        options=list(child_options.keys()),\n        index=list(child_options.values()).index(st.session_state.selected_child_id) \n              if st.session_state.selected_child_id in child_options.values() else 0\n    )\n    st.session_state.selected_child_id = child_options[selected_name]\n    \n    child = db.get_child(st.session_state.selected_child_id)\n    vaccinations = db.get_vaccinations(st.session_state.selected_child_id)\n    \n    notifications = get_in_app_notifications(st.session_state.selected_child_id)\n    if notifications:\n        st.markdown(\"<h3>Notifications</h3>\", unsafe_allow_html=True)\n        for notif in notifications:\n            if notif['type'] == 'error':\n                st.error(f\"**{notif['title']}**: {notif['message']}\")\n            elif notif['type'] == 'warning':\n                st.warning(f\"**{notif['title']}**: {notif['message']}\")\n            else:\n                st.info(f\"**{notif['title']}**: {notif['message']}\")\n    \n    st.markdown(\"---\")\n    \n    dob = child['date_of_birth']\n    if isinstance(dob, str):\n        dob = date.fromisoformat(dob)\n    age = get_age_string(dob)\n    \n    col1, col2, col3 = st.columns(3)\n    with col1:\n        st.markdown(f\"\"\"\n        <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); \n                    padding: 20px; border-radius: 10px; color: white;\">\n            <h3 style=\"margin: 0; color: white;\">Child Profile</h3>\n            <p style=\"font-size: 24px; margin: 10px 0; font-weight: bold;\">{child['name']}</p>\n            <p style=\"margin: 0;\">Age: {age}</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n    \n    categories = categorize_vaccinations(vaccinations)\n    \n    with col2:\n        total = len(vaccinations)\n        completed = len(categories['completed'])\n        progress = (completed / total * 100) if total > 0 else 0\n        \n        st.markdown(f\"\"\"\n        <div style=\"background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); \n                    padding: 20px; border-radius: 10px; color: white;\">\n            <h3 style=\"margin: 0; color: white;\">Vaccination Progress</h3>\n            <p style=\"font-size: 24px; margin: 10px 0; font-weight: bold;\">{completed}/{total}</p>\n            <p style=\"margin: 0;\">Completed: {progress:.1f}%</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n    \n    with col3:\n        upcoming = len(categories['upcoming'])\n        st.markdown(f\"\"\"\n        <div style=\"background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%); \n                    padding: 20px; border-radius: 10px; color: white;\">\n            <h3 style=\"margin: 0; color: white;\">Upcoming Vaccines</h3>\n            <p style=\"font-size: 24px; margin: 10px 0; font-weight: bold;\">{upcoming}</p>\n            <p style=\"margin: 0;\">Pending</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n    \n    st.markdown(\"---\")\n    \n    st.markdown(\"<h3>Vaccination Categories</h3>\", unsafe_allow_html=True)\n    \n    col1, col2, col3 = st.columns(3)\n    \n    with col1:\n        st.markdown(f\"\"\"\n        <div style=\"background: #e8f5e9; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #4caf50;\">\n            <h4 style=\"color: #2e7d32; margin: 0 0 0.5rem 0;\">Completed</h4>\n            <p style=\"font-size: 1.5rem; font-weight: bold; color: #4caf50; margin: 0;\">{len(categories['completed'])}</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n    \n    with col2:\n        st.markdown(f\"\"\"\n        <div style=\"background: #fff3e0; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #ff9800;\">\n            <h4 style=\"color: #e65100; margin: 0 0 0.5rem 0;\">Upcoming</h4>\n            <p style=\"font-size: 1.5rem; font-weight: bold; color: #ff9800; margin: 0;\">{len(categories['upcoming'])}</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n    \n    with col3:\n        st.markdown(f\"\"\"\n        <div style=\"background: #f3e5f5; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #9c27b0;\">\n            <h4 style=\"color: #6a1b9a; margin: 0 0 0.5rem 0;\">Pending</h4>\n            <p style=\"font-size: 1.5rem; font-weight: bold; color: #9c27b0; margin: 0;\">{len(categories['pending'])}</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n","path":null,"size_bytes":5063,"size_tokens":null},"main.py":{"content":"def main():\n    print(\"Hello from repl-nix-workspace!\")\n\n\nif __name__ == \"__main__\":\n    main()\n","path":null,"size_bytes":96,"size_tokens":null},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"audio-recorder-streamlit>=0.0.10\",\n    \"openai>=2.11.0\",\n    \"pandas>=2.3.3\",\n    \"plotly>=6.5.0\",\n    \"python-dateutil>=2.9.0.post0\",\n    \"streamlit>=1.52.1\",\n]\n","path":null,"size_bytes":309,"size_tokens":null},"pages/health_timeline.py":{"content":"import streamlit as st\nfrom datetime import date, datetime\nimport plotly.graph_objects as go\nimport database as db\nfrom vaccination_guidelines import get_age_string\n\ndef render():\n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">üìÖ Health Timeline</h1>', unsafe_allow_html=True)\n    st.markdown(\"Track your child's health events, vaccinations, and important milestones\")\n    \n    children = db.get_all_children()\n    \n    if not children:\n        st.info(\"Please add a child profile first.\")\n        return\n    \n    if 'selected_child_id' not in st.session_state or st.session_state.selected_child_id is None:\n        st.session_state.selected_child_id = children[0]['id']\n    \n    child_options = {c['name']: c['id'] for c in children}\n    selected_name = st.selectbox(\n        \"Select Child\",\n        options=list(child_options.keys()),\n        index=list(child_options.values()).index(st.session_state.selected_child_id) \n              if st.session_state.selected_child_id in child_options.values() else 0,\n        key=\"timeline_child_select\"\n    )\n    st.session_state.selected_child_id = child_options[selected_name]\n    \n    child = db.get_child(st.session_state.selected_child_id)\n    vaccinations = db.get_vaccinations(st.session_state.selected_child_id)\n    health_events = db.get_health_events(st.session_state.selected_child_id)\n    \n    st.markdown(\"---\")\n    \n    col1, col2 = st.columns([3, 1])\n    with col2:\n        if st.button(\"‚ûï Add Health Event\", type=\"primary\", width='stretch'):\n            st.session_state.show_add_event = True\n    \n    if st.session_state.get('show_add_event', False):\n        render_add_event_form(st.session_state.selected_child_id)\n    \n    filter_options = [\"All\", \"Vaccines\", \"Illness\", \"Symptom\", \"Doctor Visit\"]\n    selected_filter = st.selectbox(\"Filter by Category\", filter_options)\n    \n    st.markdown(\"---\")\n    \n    timeline_items = []\n    \n    completed_vaccines = [v for v in vaccinations if v['status'] == 'completed']\n    for vacc in completed_vaccines:\n        administered_date = vacc.get('administered_date')\n        if administered_date:\n            if isinstance(administered_date, str):\n                administered_date = date.fromisoformat(administered_date)\n            timeline_items.append({\n                'date': administered_date,\n                'type': 'Vaccines',\n                'title': f\"Vaccine: {vacc['vaccine_name']}\",\n                'description': vacc.get('notes', ''),\n                'icon': 'üíâ',\n                'color': '#4caf50'\n            })\n    \n    for event in health_events:\n        event_date = event['event_date']\n        if isinstance(event_date, str):\n            event_date = date.fromisoformat(event_date)\n        \n        event_type = event['event_type']\n        icon_map = {\n            'illness': 'ü§í',\n            'symptom': 'üå°Ô∏è',\n            'doctor_visit': 'üë®‚Äç‚öïÔ∏è',\n            'milestone': 'üéØ',\n            'other': 'üìù'\n        }\n        \n        timeline_items.append({\n            'date': event_date,\n            'type': event_type.title(),\n            'title': event['title'],\n            'description': event.get('description', ''),\n            'icon': icon_map.get(event_type, 'üìù'),\n            'color': '#667eea'\n        })\n    \n    if selected_filter != \"All\":\n        timeline_items = [item for item in timeline_items if item['type'] == selected_filter]\n    \n    timeline_items.sort(key=lambda x: x['date'], reverse=True)\n    \n    if not timeline_items:\n        st.info(\"No health events recorded yet. Click 'Add Health Event' to get started!\")\n    else:\n        for item in timeline_items:\n            date_str = item['date'].strftime('%B %d, %Y')\n            st.markdown(f\"\"\"\n            <div style=\"background: white; padding: 15px; border-radius: 8px; border-left: 4px solid {item['color']}; margin-bottom: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);\">\n                <div style=\"display: flex; align-items: center; gap: 10px; margin-bottom: 5px;\">\n                    <span style=\"font-size: 1.5rem;\">{item['icon']}</span>\n                    <div>\n                        <div style=\"font-weight: 700; color: #333;\">{item['title']}</div>\n                        <div style=\"font-size: 0.85rem; color: #999;\">{date_str}</div>\n                    </div>\n                </div>\n                {f'<div style=\"color: #666; font-size: 0.9rem; margin-left: 34px;\">{item[\"description\"]}</div>' if item['description'] else ''}\n            </div>\n            \"\"\", unsafe_allow_html=True)\n\ndef render_add_event_form(child_id):\n    st.markdown(\"### Add New Health Event\")\n    \n    col1, col2 = st.columns(2)\n    with col1:\n        event_date = st.date_input(\"Event Date\", value=date.today())\n    with col2:\n        event_type = st.selectbox(\n            \"Event Type\",\n            [\"illness\", \"symptom\", \"doctor_visit\", \"milestone\", \"other\"],\n            format_func=lambda x: x.replace('_', ' ').title()\n        )\n    \n    title = st.text_input(\"Event Title\", placeholder=\"e.g., High fever, Doctor checkup\")\n    description = st.text_area(\"Description\", placeholder=\"Additional details about the event...\")\n    \n    if st.button(\"Save Event\", type=\"primary\"):\n        if title:\n            db.add_health_event(\n                child_id=child_id,\n                event_type=event_type,\n                event_date=event_date.isoformat(),\n                title=title,\n                description=description\n            )\n            st.success(\"‚úÖ Health event recorded!\")\n            st.session_state.show_add_event = False\n            st.rerun()\n        else:\n            st.error(\"Please enter an event title\")\n","path":null,"size_bytes":5672,"size_tokens":null},"pages/vaccination_schedule.py":{"content":"import streamlit as st\nfrom datetime import date, datetime\nimport database as db\nfrom vaccination_guidelines import categorize_vaccinations, get_age_string, generate_vaccination_schedule\nimport json\nimport os\n\ndef load_vaccine_data():\n    \"\"\"Load vaccine data from JSON files\"\"\"\n    data = {\n        \"India (UIP)\": None,\n        \"WHO\": None\n    }\n    \n    try:\n        with open(\"data/vaccines_uip_india.json\", \"r\") as f:\n            data[\"India (UIP)\"] = json.load(f)\n    except FileNotFoundError:\n        pass\n    \n    try:\n        with open(\"data/vaccines_who.json\", \"r\") as f:\n            data[\"WHO\"] = json.load(f)\n    except FileNotFoundError:\n        pass\n    \n    return data\n\ndef render():\n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">üìã Vaccination Schedule</h1>', unsafe_allow_html=True)\n    st.markdown(\"Track your child's vaccination schedule based on recommended guidelines\")\n    \n    children = db.get_all_children()\n    \n    if not children:\n        st.info(\"Please add a child profile first to see vaccination schedule.\")\n        return\n    \n    if 'selected_child_id' not in st.session_state or st.session_state.selected_child_id is None:\n        st.session_state.selected_child_id = children[0]['id']\n    \n    child_options = {c['name']: c['id'] for c in children}\n    selected_name = st.selectbox(\n        \"Select Child\",\n        options=list(child_options.keys()),\n        index=list(child_options.values()).index(st.session_state.selected_child_id) \n              if st.session_state.selected_child_id in child_options.values() else 0,\n        key=\"schedule_child_select\"\n    )\n    st.session_state.selected_child_id = child_options[selected_name]\n    \n    child = db.get_child(st.session_state.selected_child_id)\n    vaccinations = db.get_vaccinations(st.session_state.selected_child_id)\n    \n    dob = child['date_of_birth']\n    if isinstance(dob, str):\n        dob = date.fromisoformat(dob)\n    \n    col1, col2, col3 = st.columns(3)\n    with col1:\n        st.metric(\"Age\", get_age_string(dob))\n    with col2:\n        st.metric(\"Guideline\", child['country_guideline'])\n    with col3:\n        completed = len([v for v in vaccinations if v['status'] == 'completed'])\n        st.metric(\"Completed\", f\"{completed}/{len(vaccinations)}\")\n    \n    st.markdown(\"---\")\n    \n    if not vaccinations:\n        st.warning(\"No vaccination schedule found. Generating schedule based on guidelines...\")\n        schedule = generate_vaccination_schedule(dob, child['country_guideline'])\n        for vacc in schedule:\n            db.add_vaccination(\n                child_id=st.session_state.selected_child_id,\n                vaccine_name=vacc['vaccine_name'],\n                vaccine_code=vacc['vaccine_code'],\n                due_date=vacc['due_date'].isoformat(),\n                status='pending'\n            )\n        st.success(\"Vaccination schedule generated!\")\n        st.rerun()\n    \n    categories = categorize_vaccinations(vaccinations)\n    \n    tab1, tab2, tab3, tab4 = st.tabs([\"Overdue\", \"Upcoming\", \"Pending\", \"Completed\"])\n    \n    with tab1:\n        st.subheader(f\"üî¥ Overdue Vaccines ({len(categories['overdue'])})\")\n        if categories['overdue']:\n            for vacc in categories['overdue']:\n                render_vaccine_card(vacc, \"overdue\")\n        else:\n            st.success(\"‚úÖ No overdue vaccines!\")\n    \n    with tab2:\n        st.subheader(f\"üü† Upcoming Vaccines ({len(categories['upcoming'])})\")\n        if categories['upcoming']:\n            for vacc in categories['upcoming']:\n                render_vaccine_card(vacc, \"upcoming\")\n        else:\n            st.info(\"No upcoming vaccines in the next 30 days.\")\n    \n    with tab3:\n        st.subheader(f\"üü° Future Vaccines ({len(categories['pending'])})\")\n        if categories['pending']:\n            for vacc in categories['pending']:\n                render_vaccine_card(vacc, \"pending\")\n        else:\n            st.info(\"No future vaccines scheduled.\")\n    \n    with tab4:\n        st.subheader(f\"üü¢ Completed Vaccines ({len(categories['completed'])})\")\n        if categories['completed']:\n            for vacc in categories['completed']:\n                render_vaccine_card(vacc, \"completed\")\n        else:\n            st.info(\"No completed vaccines yet.\")\n    \n    st.markdown(\"---\")\n    \n    vaccine_data = load_vaccine_data()\n    guideline = child['country_guideline']\n    \n    if guideline in vaccine_data and vaccine_data[guideline]:\n        st.subheader(f\"üìö {guideline} Guideline Information\")\n        data = vaccine_data[guideline]\n        st.markdown(f\"**Source:** {data.get('source', 'Unknown')}\")\n        st.markdown(f\"**Description:** {data.get('description', '')}\")\n    \n    st.markdown(\"\"\"\n    <div class=\"info-box\" style=\"background: #f0f7ff; border-left: 4px solid #667eea; padding: 1.5rem; border-radius: 8px;\">\n        <h3 style=\"color: #667eea; margin: 0 0 0.5rem 0;\">üìå Important Note</h3>\n        <p style=\"color: #333; margin: 0;\">Always consult with your child's pediatrician before administering any vaccine. The schedule shown is based on official guidelines but may need adjustment based on your child's individual health needs.</p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n\ndef render_vaccine_card(vacc, status_type):\n    due_date = vacc['due_date']\n    if isinstance(due_date, str):\n        due_date = date.fromisoformat(due_date)\n    \n    days_diff = (due_date - date.today()).days\n    \n    if status_type == \"overdue\":\n        bg_color = \"#ffebee\"\n        border_color = \"#f44336\"\n        icon = \"üî¥\"\n        status_text = f\"Overdue by {abs(days_diff)} days\"\n    elif status_type == \"upcoming\":\n        bg_color = \"#fff8e1\"\n        border_color = \"#ff9800\"\n        icon = \"üü†\"\n        status_text = f\"Due in {days_diff} days\"\n    elif status_type == \"completed\":\n        bg_color = \"#e8f5e9\"\n        border_color = \"#4caf50\"\n        icon = \"üü¢\"\n        administered = vacc.get('administered_date', 'Unknown')\n        status_text = f\"Completed on {administered}\" if administered else \"Completed\"\n    else:\n        bg_color = \"#e3f2fd\"\n        border_color = \"#2196f3\"\n        icon = \"üü°\"\n        status_text = f\"Due on {due_date.strftime('%B %d, %Y')}\"\n    \n    st.markdown(f\"\"\"\n    <div style=\"background-color: {bg_color}; padding: 15px; border-radius: 8px; border-left: 5px solid {border_color}; margin-bottom: 10px;\">\n        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n            <div>\n                <h4 style=\"margin: 0; color: #333;\">{icon} {vacc['vaccine_name']}</h4>\n                <p style=\"margin: 5px 0 0 0; color: #666; font-size: 0.9rem;\">{status_text}</p>\n            </div>\n        </div>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n","path":null,"size_bytes":6755,"size_tokens":null},"notifications.py":{"content":"import smtplib\nimport os\nfrom email.mime.text import MIMEText\nfrom email.mime.multipart import MIMEMultipart\nfrom datetime import date, timedelta\nfrom typing import List, Dict, Optional\nimport database as db\n\ndef get_upcoming_reminders(child_id: int) -> List[Dict]:\n    vaccinations = db.get_vaccinations(child_id)\n    today = date.today()\n    reminders = []\n    \n    for vacc in vaccinations:\n        if vacc['status'] == 'completed':\n            continue\n            \n        due_date = vacc['due_date']\n        if isinstance(due_date, str):\n            due_date = date.fromisoformat(due_date)\n        \n        days_until = (due_date - today).days\n        \n        if days_until == 7:\n            reminders.append({\n                \"vaccination\": vacc,\n                \"reminder_type\": \"7_days\",\n                \"message\": f\"Reminder: {vacc['vaccine_name']} is due in 7 days ({due_date.strftime('%B %d, %Y')})\"\n            })\n        elif days_until == 1:\n            reminders.append({\n                \"vaccination\": vacc,\n                \"reminder_type\": \"1_day\",\n                \"message\": f\"Reminder: {vacc['vaccine_name']} is due tomorrow ({due_date.strftime('%B %d, %Y')})\"\n            })\n        elif days_until == 0:\n            reminders.append({\n                \"vaccination\": vacc,\n                \"reminder_type\": \"on_day\",\n                \"message\": f\"Reminder: {vacc['vaccine_name']} is due today!\"\n            })\n        elif days_until < 0:\n            reminders.append({\n                \"vaccination\": vacc,\n                \"reminder_type\": \"overdue\",\n                \"message\": f\"OVERDUE: {vacc['vaccine_name']} was due on {due_date.strftime('%B %d, %Y')} ({abs(days_until)} days ago)\"\n            })\n    \n    return reminders\n\ndef send_email_reminder(to_email: str, child_name: str, reminders: List[Dict], \n                        smtp_server: str = None, smtp_port: int = 587,\n                        smtp_user: str = None, smtp_password: str = None) -> bool:\n    if not smtp_server or not smtp_user or not smtp_password:\n        return False\n    \n    try:\n        subject = f\"Vaccination Reminder for {child_name}\"\n        \n        html_content = f\"\"\"\n        <html>\n        <head>\n            <style>\n                body {{ font-family: Arial, sans-serif; line-height: 1.6; color: #333; }}\n                .header {{ background-color: #4CAF50; color: white; padding: 20px; text-align: center; }}\n                .content {{ padding: 20px; }}\n                .reminder {{ margin: 10px 0; padding: 15px; border-left: 4px solid #4CAF50; background: #f9f9f9; }}\n                .overdue {{ border-left-color: #f44336; }}\n                .footer {{ background: #f1f1f1; padding: 15px; text-align: center; font-size: 12px; }}\n            </style>\n        </head>\n        <body>\n            <div class=\"header\">\n                <h1>Smart Child Vaccination Assistant</h1>\n            </div>\n            <div class=\"content\">\n                <h2>Vaccination Reminders for {child_name}</h2>\n                <p>Here are your upcoming vaccination reminders:</p>\n        \"\"\"\n        \n        for reminder in reminders:\n            reminder_class = \"reminder overdue\" if reminder['reminder_type'] == 'overdue' else \"reminder\"\n            html_content += f'<div class=\"{reminder_class}\">{reminder[\"message\"]}</div>'\n        \n        html_content += \"\"\"\n                <p style=\"margin-top: 20px;\">\n                    <strong>Note:</strong> Please consult with your child's pediatrician before administering any vaccines.\n                </p>\n            </div>\n            <div class=\"footer\">\n                <p>This is an automated reminder from Smart Child Vaccination & Health Assistant.</p>\n                <p>For questions, please consult your healthcare provider.</p>\n            </div>\n        </body>\n        </html>\n        \"\"\"\n        \n        msg = MIMEMultipart('alternative')\n        msg['Subject'] = subject\n        msg['From'] = smtp_user\n        msg['To'] = to_email\n        \n        text_content = f\"Vaccination Reminders for {child_name}\\n\\n\"\n        for reminder in reminders:\n            text_content += f\"- {reminder['message']}\\n\"\n        text_content += \"\\nPlease consult with your child's pediatrician before administering any vaccines.\"\n        \n        msg.attach(MIMEText(text_content, 'plain'))\n        msg.attach(MIMEText(html_content, 'html'))\n        \n        with smtplib.SMTP(smtp_server, smtp_port) as server:\n            server.starttls()\n            server.login(smtp_user, smtp_password)\n            server.sendmail(smtp_user, to_email, msg.as_string())\n        \n        return True\n    except Exception as e:\n        print(f\"Email sending failed: {e}\")\n        return False\n\ndef get_in_app_notifications(child_id: int) -> List[Dict]:\n    reminders = get_upcoming_reminders(child_id)\n    notifications = []\n    \n    overdue = [r for r in reminders if r['reminder_type'] == 'overdue']\n    today_due = [r for r in reminders if r['reminder_type'] == 'on_day']\n    tomorrow = [r for r in reminders if r['reminder_type'] == '1_day']\n    week_away = [r for r in reminders if r['reminder_type'] == '7_days']\n    \n    if overdue:\n        notifications.append({\n            \"type\": \"error\",\n            \"title\": f\"{len(overdue)} Overdue Vaccine(s)\",\n            \"message\": \", \".join([r['vaccination']['vaccine_name'] for r in overdue[:3]]),\n            \"count\": len(overdue)\n        })\n    \n    if today_due:\n        notifications.append({\n            \"type\": \"warning\",\n            \"title\": f\"{len(today_due)} Vaccine(s) Due Today\",\n            \"message\": \", \".join([r['vaccination']['vaccine_name'] for r in today_due]),\n            \"count\": len(today_due)\n        })\n    \n    if tomorrow:\n        notifications.append({\n            \"type\": \"info\",\n            \"title\": f\"{len(tomorrow)} Vaccine(s) Due Tomorrow\",\n            \"message\": \", \".join([r['vaccination']['vaccine_name'] for r in tomorrow]),\n            \"count\": len(tomorrow)\n        })\n    \n    if week_away:\n        notifications.append({\n            \"type\": \"info\",\n            \"title\": f\"{len(week_away)} Vaccine(s) Due in 7 Days\",\n            \"message\": \", \".join([r['vaccination']['vaccine_name'] for r in week_away]),\n            \"count\": len(week_away)\n        })\n    \n    return notifications\n\ndef check_and_send_reminders(child_id: int) -> Dict:\n    child = db.get_child(child_id)\n    settings = db.get_reminder_settings(child_id)\n    \n    if not child or not settings:\n        return {\"success\": False, \"message\": \"Child or settings not found\"}\n    \n    reminders = get_upcoming_reminders(child_id)\n    \n    if not reminders:\n        return {\"success\": True, \"message\": \"No reminders to send\", \"sent\": 0}\n    \n    filtered_reminders = []\n    for r in reminders:\n        if r['reminder_type'] == '7_days' and settings.get('reminder_7_days'):\n            filtered_reminders.append(r)\n        elif r['reminder_type'] == '1_day' and settings.get('reminder_1_day'):\n            filtered_reminders.append(r)\n        elif r['reminder_type'] == 'on_day' and settings.get('reminder_on_day'):\n            filtered_reminders.append(r)\n        elif r['reminder_type'] == 'overdue':\n            filtered_reminders.append(r)\n    \n    sent_count = 0\n    \n    if settings.get('email_enabled') and settings.get('email_address'):\n        smtp_server = os.environ.get('SMTP_SERVER')\n        smtp_port = int(os.environ.get('SMTP_PORT', 587))\n        smtp_user = os.environ.get('SMTP_USER')\n        smtp_password = os.environ.get('SMTP_PASSWORD')\n        \n        if send_email_reminder(\n            settings['email_address'],\n            child['name'],\n            filtered_reminders,\n            smtp_server, smtp_port, smtp_user, smtp_password\n        ):\n            sent_count += 1\n            for r in filtered_reminders:\n                db.record_sent_reminder(r['vaccination']['id'], r['reminder_type'], 'email')\n    \n    return {\n        \"success\": True,\n        \"message\": f\"Processed {len(filtered_reminders)} reminders\",\n        \"sent\": sent_count\n    }\n","path":null,"size_bytes":8059,"size_tokens":null},"pages/diseases_remedies.py":{"content":"import streamlit as st\n\ndef render():\n    st.markdown(\"\"\"\n    <style>\n        /* Fix expander header background when expanded */\n        [data-testid=\"stExpander\"] details[open] > summary {\n            background-color: transparent !important;\n            color: #ffffff !important;\n        }\n\n        /* Ensure text stays visible on hover */\n        [data-testid=\"stExpander\"] details[open] > summary:hover {\n            background-color: rgba(255, 255, 255, 0.08) !important;\n            color: #ffffff !important;\n        }\n\n        [data-testid=\"stExpander\"] {\n            color: #fff !important;\n        }\n        [data-testid=\"stExpander\"] button {\n            color: #fff !important;\n            background-color: transparent !important;\n            border: none !important;\n            font-weight: 600 !important;\n        }\n        [data-testid=\"stExpander\"] button:hover {\n            background-color: transparent !important;\n            color: #fff !important;\n            border: none !important;\n            font-weight: 600 !important;\n        }\n        [data-testid=\"stExpander\"] button:active {\n            color: #fff !important;\n            background-color: transparent !important;\n        }\n        [data-testid=\"stExpander\"] details {\n            color: #fff !important;\n        }\n        [data-testid=\"stExpander\"] details[open] {\n            color: #fff !important;\n        }\n        [data-testid=\"stExpander\"] details:hover {\n            background-color: transparent !important;\n        }\n        [data-testid=\"stExpander\"] summary {\n            color: #fff !important;\n            font-weight: 800 !important;\n            font-size: 1.05em !important;\n            cursor: pointer !important;\n        }\n        [data-testid=\"stExpander\"] summary:hover {\n            background-color: transparent !important;\n            color: #fff !important;\n            font-weight: 800 !important;\n            font-size: 1.05em !important;\n        }\n        [data-testid=\"stExpander\"] summary:focus {\n            color: #fff !important;\n            outline: none !important;\n            font-weight: 800 !important;\n        }\n        [data-testid=\"stExpander\"] p, [data-testid=\"stExpander\"] span {\n            color: #000 !important;\n        }\n        /* Fix expander header background when expanded */\n        [data-testid=\"stExpander\"] details[open] > summary {\n            background-color: transparent !important;\n            color: #ffffff !important;\n            font-weight: 800 !important;\n            font-size: 1.05em !important;\n        }\n        /* Ensure text stays visible on hover */\n        [data-testid=\"stExpander\"] details[open] > summary:hover {\n            background-color: rgba(255, 255, 255, 0.08) !important;\n            color: #ffffff !important;\n            font-weight: 800 !important;\n            font-size: 1.05em !important;\n        }\n    </style>\n    \"\"\", unsafe_allow_html=True)\n    \n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">üè• Common Child Diseases & Remedies</h1>', unsafe_allow_html=True)\n    st.markdown('<p style=\"color: #000;\">Learn about common childhood illnesses, their symptoms, and recommended treatments</p>', unsafe_allow_html=True)\n    st.divider()\n    \n    diseases_data = [\n        {\n            \"name\": \"Common Cold\",\n            \"emoji\": \"ü§ß\",\n            \"symptoms\": [\"Runny or stuffy nose\", \"Sneezing\", \"Mild fever\", \"Cough\", \"Sore throat\", \"Decreased appetite\"],\n            \"causes\": \"Viral infection spread through airborne droplets or contact with infected surfaces.\",\n            \"home_remedies\": [\n                \"Ensure plenty of rest and sleep\",\n                \"Keep child well-hydrated with water, warm soups, and juices\",\n                \"Use saline nasal drops to relieve congestion\",\n                \"Honey (for children over 1 year) to soothe cough\",\n                \"Use a cool-mist humidifier in the room\",\n                \"Warm salt water gargle for older children\"\n            ],\n            \"when_to_see_doctor\": \"If fever exceeds 102¬∞F (39¬∞C), symptoms last more than 10 days, or child has difficulty breathing.\",\n            \"prevention\": [\"Frequent handwashing\", \"Avoid contact with sick individuals\", \"Keep toys and surfaces clean\"]\n        },\n        {\n            \"name\": \"Ear Infection\",\n            \"emoji\": \"üëÇ\",\n            \"symptoms\": [\"Ear pain or tugging at ear\", \"Fever\", \"Difficulty sleeping\", \"Fussiness\", \"Trouble hearing\"],\n            \"causes\": \"Bacterial or viral infection in the middle ear, often following a cold.\",\n            \"home_remedies\": [\n                \"Apply warm compress to the affected ear\",\n                \"Keep child's head elevated during sleep\",\n                \"Give age-appropriate pain relievers\",\n                \"Ensure adequate hydration\",\n                \"Encourage swallowing to help drain the ear\"\n            ],\n            \"when_to_see_doctor\": \"If symptoms don't improve within 2-3 days, child has high fever, or there's discharge from the ear.\",\n            \"prevention\": [\"Keep up with vaccinations\", \"Avoid secondhand smoke\", \"Breastfeeding builds immunity\"]\n        },\n        {\n            \"name\": \"Chickenpox (Varicella)\",\n            \"emoji\": \"ü¶†\",\n            \"symptoms\": [\"Itchy rash with fluid-filled blisters\", \"Fever\", \"Tiredness\", \"Loss of appetite\", \"Headache\"],\n            \"causes\": \"Varicella-zoster virus, highly contagious through direct contact or airborne transmission.\",\n            \"home_remedies\": [\n                \"Calamine lotion to reduce itching\",\n                \"Cool baths with baking soda or oatmeal\",\n                \"Keep fingernails trimmed to prevent scratching\",\n                \"Dress child in loose, comfortable clothing\",\n                \"Use antihistamines for severe itching\",\n                \"Ensure plenty of rest and fluids\"\n            ],\n            \"when_to_see_doctor\": \"If rash spreads to eyes, high fever persists, or blisters become infected.\",\n            \"prevention\": [\"Varicella vaccine\", \"Avoid contact with infected individuals\"]\n        },\n        {\n            \"name\": \"Hand, Foot & Mouth Disease\",\n            \"emoji\": \"ü¶∂\",\n            \"symptoms\": [\"Fever\", \"Sore throat\", \"Painful blisters in mouth\", \"Rash on hands and feet\", \"Irritability\"],\n            \"causes\": \"Coxsackievirus, spread through contact with infected fluids or feces.\",\n            \"home_remedies\": [\n                \"Offer cold foods like ice pops to soothe mouth sores\",\n                \"Avoid acidic or spicy foods\",\n                \"Ensure adequate fluid intake\",\n                \"Use pain relievers for fever\",\n                \"Rinse mouth with warm salt water\",\n                \"Apply soothing balm to skin rashes\"\n            ],\n            \"when_to_see_doctor\": \"If child cannot drink fluids, symptoms worsen, or fever is very high.\",\n            \"prevention\": [\"Frequent handwashing\", \"Disinfect shared surfaces\", \"Teach children not to share utensils\"]\n        },\n        {\n            \"name\": \"Gastroenteritis (Stomach Flu)\",\n            \"emoji\": \"ü§¢\",\n            \"symptoms\": [\"Vomiting\", \"Diarrhea\", \"Stomach cramps\", \"Fever\", \"Nausea\"],\n            \"causes\": \"Viral or bacterial infection affecting the digestive system.\",\n            \"home_remedies\": [\n                \"Oral rehydration solutions (like Pedialyte)\",\n                \"Small, frequent sips of clear fluids\",\n                \"BRAT diet (Bananas, Rice, Applesauce, Toast)\",\n                \"Plenty of rest\",\n                \"Avoid dairy and fatty foods temporarily\",\n                \"Keep child away from others to prevent spread\"\n            ],\n            \"when_to_see_doctor\": \"If signs of dehydration appear, vomiting persists beyond 24 hours, or bloody stools are present.\",\n            \"prevention\": [\"Rotavirus vaccine\", \"Proper food handling\", \"Regular handwashing\"]\n        }\n    ]\n    \n    st.divider()\n    \n    for disease in diseases_data:\n        with st.expander(f\"{disease['emoji']} {disease['name']}\", expanded=False):\n            symptoms_text = \" ‚Ä¢ \".join(disease['symptoms'])\n            symptoms_formatted = symptoms_text.replace(' ‚Ä¢ ', '<br>‚Ä¢ ')\n            \n            remedies_text = \" ‚Ä¢ \".join(disease['home_remedies'])\n            remedies_formatted = remedies_text.replace(' ‚Ä¢ ', '<br>‚Ä¢ ')\n            \n            prevention_text = \" ‚Ä¢ \".join(disease['prevention'])\n            prevention_formatted = prevention_text.replace(' ‚Ä¢ ', '<br>‚Ä¢ ')\n            \n            st.markdown(f\"\"\"\n            <div style=\"color: #000;\">\n                <p><strong>What causes it?</strong><br>{disease['causes']}</p>\n                <p><strong>Symptoms:</strong><br>‚Ä¢ {symptoms_formatted}</p>\n                <p><strong>Home Remedies:</strong><br>‚Ä¢ {remedies_formatted}</p>\n                <p><strong>When to See a Doctor:</strong><br>{disease['when_to_see_doctor']}</p>\n                <p><strong>Prevention:</strong><br>‚Ä¢ {prevention_formatted}</p>\n            </div>\n            \"\"\", unsafe_allow_html=True)\n    \n    st.divider()\n    st.markdown(\"\"\"\n    <div class=\"info-box\" style=\"background: #f0f7ff; border-left: 4px solid #667eea; padding: 1.5rem; border-radius: 8px;\">\n        <h3 style=\"color: #667eea; margin: 0 0 0.5rem 0;\">‚öïÔ∏è Important Disclaimer</h3>\n        <p style=\"color: #333; margin: 0;\">This information is for educational purposes only and should not replace professional medical advice. Always consult with your child's pediatrician if you're concerned about your child's health. In case of emergency, contact emergency services immediately.</p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n","path":null,"size_bytes":9637,"size_tokens":null},"database.py":{"content":"import sqlite3\nimport os\nfrom datetime import datetime, date\nfrom typing import Optional, List, Dict, Any\nimport json\n\nDATABASE_PATH = \"vaccination_health.db\"\n\ndef get_connection():\n    conn = sqlite3.connect(DATABASE_PATH)\n    conn.row_factory = sqlite3.Row\n    return conn\n\ndef init_database():\n    conn = get_connection()\n    cursor = conn.cursor()\n    \n    cursor.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS children (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            name TEXT NOT NULL,\n            date_of_birth DATE NOT NULL,\n            country_guideline TEXT NOT NULL DEFAULT 'WHO',\n            gender TEXT,\n            blood_group TEXT,\n            allergies TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n        )\n    \"\"\")\n    \n    cursor.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS vaccinations (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            child_id INTEGER NOT NULL,\n            vaccine_name TEXT NOT NULL,\n            vaccine_code TEXT,\n            due_date DATE NOT NULL,\n            administered_date DATE,\n            status TEXT DEFAULT 'pending',\n            notes TEXT,\n            administered_by TEXT,\n            batch_number TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (child_id) REFERENCES children(id) ON DELETE CASCADE\n        )\n    \"\"\")\n    \n    cursor.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS health_events (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            child_id INTEGER NOT NULL,\n            event_type TEXT NOT NULL,\n            event_date DATE NOT NULL,\n            title TEXT NOT NULL,\n            description TEXT,\n            severity TEXT,\n            symptoms TEXT,\n            treatment TEXT,\n            doctor_name TEXT,\n            hospital_clinic TEXT,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (child_id) REFERENCES children(id) ON DELETE CASCADE\n        )\n    \"\"\")\n    \n    cursor.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS reminder_settings (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            child_id INTEGER NOT NULL,\n            email_enabled INTEGER DEFAULT 0,\n            email_address TEXT,\n            sms_enabled INTEGER DEFAULT 0,\n            phone_number TEXT,\n            reminder_7_days INTEGER DEFAULT 1,\n            reminder_1_day INTEGER DEFAULT 1,\n            reminder_on_day INTEGER DEFAULT 1,\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            FOREIGN KEY (child_id) REFERENCES children(id) ON DELETE CASCADE\n        )\n    \"\"\")\n    \n    cursor.execute(\"\"\"\n        CREATE TABLE IF NOT EXISTS sent_reminders (\n            id INTEGER PRIMARY KEY AUTOINCREMENT,\n            vaccination_id INTEGER NOT NULL,\n            reminder_type TEXT NOT NULL,\n            sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n            channel TEXT NOT NULL,\n            FOREIGN KEY (vaccination_id) REFERENCES vaccinations(id) ON DELETE CASCADE\n        )\n    \"\"\")\n    \n    conn.commit()\n    conn.close()\n\ndef add_child(name: str, date_of_birth: str, country_guideline: str, \n              gender: Optional[str] = None, blood_group: Optional[str] = None, \n              allergies: Optional[str] = None) -> int:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        INSERT INTO children (name, date_of_birth, country_guideline, gender, blood_group, allergies)\n        VALUES (?, ?, ?, ?, ?, ?)\n    \"\"\", (name, date_of_birth, country_guideline, gender, blood_group, allergies))\n    child_id = cursor.lastrowid\n    conn.commit()\n    conn.close()\n    return child_id\n\ndef get_child(child_id: int) -> Optional[Dict]:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"SELECT * FROM children WHERE id = ?\", (child_id,))\n    row = cursor.fetchone()\n    conn.close()\n    return dict(row) if row else None\n\ndef get_all_children() -> List[Dict]:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"SELECT * FROM children ORDER BY name\")\n    rows = cursor.fetchall()\n    conn.close()\n    return [dict(row) for row in rows]\n\ndef update_child(child_id: int, **kwargs) -> bool:\n    conn = get_connection()\n    cursor = conn.cursor()\n    fields = []\n    values = []\n    for key, value in kwargs.items():\n        if key in ['name', 'date_of_birth', 'country_guideline', 'gender', 'blood_group', 'allergies']:\n            fields.append(f\"{key} = ?\")\n            values.append(value)\n    if fields:\n        fields.append(\"updated_at = CURRENT_TIMESTAMP\")\n        values.append(child_id)\n        cursor.execute(f\"UPDATE children SET {', '.join(fields)} WHERE id = ?\", values)\n        conn.commit()\n    conn.close()\n    return True\n\ndef delete_child(child_id: int) -> bool:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"DELETE FROM children WHERE id = ?\", (child_id,))\n    conn.commit()\n    conn.close()\n    return True\n\ndef add_vaccination(child_id: int, vaccine_name: str, vaccine_code: str, \n                   due_date: str, status: str = 'pending') -> int:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        INSERT INTO vaccinations (child_id, vaccine_name, vaccine_code, due_date, status)\n        VALUES (?, ?, ?, ?, ?)\n    \"\"\", (child_id, vaccine_name, vaccine_code, due_date, status))\n    vacc_id = cursor.lastrowid\n    conn.commit()\n    conn.close()\n    return vacc_id\n\ndef get_vaccinations(child_id: int) -> List[Dict]:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        SELECT * FROM vaccinations WHERE child_id = ? ORDER BY due_date\n    \"\"\", (child_id,))\n    rows = cursor.fetchall()\n    conn.close()\n    return [dict(row) for row in rows]\n\ndef update_vaccination_status(vacc_id: int, status: str, \n                               administered_date: Optional[str] = None,\n                               notes: Optional[str] = None,\n                               administered_by: Optional[str] = None,\n                               batch_number: Optional[str] = None) -> bool:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        UPDATE vaccinations \n        SET status = ?, administered_date = ?, notes = ?, \n            administered_by = ?, batch_number = ?, updated_at = CURRENT_TIMESTAMP\n        WHERE id = ?\n    \"\"\", (status, administered_date, notes, administered_by, batch_number, vacc_id))\n    conn.commit()\n    conn.close()\n    return True\n\ndef delete_all_vaccinations(child_id: int) -> bool:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"DELETE FROM vaccinations WHERE child_id = ?\", (child_id,))\n    conn.commit()\n    conn.close()\n    return True\n\ndef add_health_event(child_id: int, event_type: str, event_date: str, \n                     title: str, description: Optional[str] = None,\n                     severity: Optional[str] = None, symptoms: Optional[str] = None,\n                     treatment: Optional[str] = None, doctor_name: Optional[str] = None,\n                     hospital_clinic: Optional[str] = None) -> int:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        INSERT INTO health_events (child_id, event_type, event_date, title, \n                                   description, severity, symptoms, treatment,\n                                   doctor_name, hospital_clinic)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n    \"\"\", (child_id, event_type, event_date, title, description, \n          severity, symptoms, treatment, doctor_name, hospital_clinic))\n    event_id = cursor.lastrowid\n    conn.commit()\n    conn.close()\n    return event_id\n\ndef get_health_events(child_id: int, event_type: Optional[str] = None) -> List[Dict]:\n    conn = get_connection()\n    cursor = conn.cursor()\n    if event_type:\n        cursor.execute(\"\"\"\n            SELECT * FROM health_events \n            WHERE child_id = ? AND event_type = ?\n            ORDER BY event_date DESC\n        \"\"\", (child_id, event_type))\n    else:\n        cursor.execute(\"\"\"\n            SELECT * FROM health_events \n            WHERE child_id = ? \n            ORDER BY event_date DESC\n        \"\"\", (child_id,))\n    rows = cursor.fetchall()\n    conn.close()\n    return [dict(row) for row in rows]\n\ndef delete_health_event(event_id: int) -> bool:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"DELETE FROM health_events WHERE id = ?\", (event_id,))\n    conn.commit()\n    conn.close()\n    return True\n\ndef get_reminder_settings(child_id: int) -> Optional[Dict]:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"SELECT * FROM reminder_settings WHERE child_id = ?\", (child_id,))\n    row = cursor.fetchone()\n    conn.close()\n    return dict(row) if row else None\n\ndef save_reminder_settings(child_id: int, email_enabled: bool, email_address: str,\n                           sms_enabled: bool, phone_number: str,\n                           reminder_7_days: bool, reminder_1_day: bool,\n                           reminder_on_day: bool) -> bool:\n    conn = get_connection()\n    cursor = conn.cursor()\n    existing = get_reminder_settings(child_id)\n    if existing:\n        cursor.execute(\"\"\"\n            UPDATE reminder_settings \n            SET email_enabled = ?, email_address = ?, sms_enabled = ?, phone_number = ?,\n                reminder_7_days = ?, reminder_1_day = ?, reminder_on_day = ?,\n                updated_at = CURRENT_TIMESTAMP\n            WHERE child_id = ?\n        \"\"\", (int(email_enabled), email_address, int(sms_enabled), phone_number,\n              int(reminder_7_days), int(reminder_1_day), int(reminder_on_day), child_id))\n    else:\n        cursor.execute(\"\"\"\n            INSERT INTO reminder_settings (child_id, email_enabled, email_address, \n                                           sms_enabled, phone_number, reminder_7_days,\n                                           reminder_1_day, reminder_on_day)\n            VALUES (?, ?, ?, ?, ?, ?, ?, ?)\n        \"\"\", (child_id, int(email_enabled), email_address, int(sms_enabled), phone_number,\n              int(reminder_7_days), int(reminder_1_day), int(reminder_on_day)))\n    conn.commit()\n    conn.close()\n    return True\n\ndef record_sent_reminder(vaccination_id: int, reminder_type: str, channel: str) -> int:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        INSERT INTO sent_reminders (vaccination_id, reminder_type, channel)\n        VALUES (?, ?, ?)\n    \"\"\", (vaccination_id, reminder_type, channel))\n    reminder_id = cursor.lastrowid\n    conn.commit()\n    conn.close()\n    return reminder_id\n\ndef get_sent_reminders(vaccination_id: int) -> List[Dict]:\n    conn = get_connection()\n    cursor = conn.cursor()\n    cursor.execute(\"\"\"\n        SELECT * FROM sent_reminders WHERE vaccination_id = ?\n    \"\"\", (vaccination_id,))\n    rows = cursor.fetchall()\n    conn.close()\n    return [dict(row) for row in rows]\n\ninit_database()\n","path":null,"size_bytes":11162,"size_tokens":null},"pages/settings.py":{"content":"import streamlit as st\nfrom datetime import date, datetime\nimport os\nimport database as db\nfrom vaccination_guidelines import generate_vaccination_schedule\n\ndef render():\n    st.title(\"Settings\")\n    \n    tab1, tab2, tab3, tab4 = st.tabs([\"Child Profiles\", \"Notifications\", \"Data Management\", \"About\"])\n    \n    with tab1:\n        render_child_profiles()\n    \n    with tab2:\n        render_notification_settings()\n    \n    with tab3:\n        render_data_management()\n    \n    with tab4:\n        render_about()\n\ndef render_child_profiles():\n    st.subheader(\"Manage Child Profiles\")\n    \n    if st.button(\"Add New Child Profile\", type=\"primary\"):\n        st.session_state.show_add_child = True\n    \n    if st.session_state.get('show_add_child', False):\n        render_add_child_form()\n    \n    children = db.get_all_children()\n    \n    if children:\n        st.markdown(\"---\")\n        st.subheader(\"Existing Profiles\")\n        \n        for child in children:\n            render_child_profile_card(child)\n    else:\n        st.info(\"No child profiles yet. Add a child to get started with vaccination tracking.\")\n\ndef render_add_child_form():\n    with st.form(key=\"add_child_form\"):\n        st.subheader(\"Add New Child\")\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            name = st.text_input(\"Child's Name\", placeholder=\"Enter child's name\")\n        with col2:\n            dob = st.date_input(\n                \"Date of Birth\",\n                value=date.today(),\n                max_value=date.today(),\n                min_value=date(2000, 1, 1)\n            )\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            country = st.selectbox(\n                \"Vaccination Guideline\",\n                [\"India (UIP)\", \"WHO\", \"CDC (USA)\"],\n                help=\"Select the vaccination guidelines to follow\"\n            )\n        with col2:\n            gender = st.selectbox(\"Gender\", [\"Not specified\", \"Male\", \"Female\", \"Other\"])\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            blood_group = st.selectbox(\n                \"Blood Group (Optional)\",\n                [\"Not specified\", \"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"]\n            )\n        with col2:\n            allergies = st.text_input(\"Known Allergies (Optional)\", placeholder=\"e.g., Penicillin, Eggs\")\n        \n        received_vaccines = st.text_area(\n            \"Already Received Vaccines (Optional)\",\n            placeholder=\"Enter vaccine names separated by commas (e.g., BCG, OPV, Hepatitis B)\",\n            help=\"If your child has already received some vaccines, enter their names here. They will be marked as completed.\"\n        )\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            if st.form_submit_button(\"Add Child\", type=\"primary\", width='stretch'):\n                if not name:\n                    st.error(\"Please enter the child's name.\")\n                else:\n                    child_id = db.add_child(\n                        name=name,\n                        date_of_birth=dob.isoformat(),\n                        country_guideline=country,\n                        gender=gender if gender != \"Not specified\" else None,\n                        blood_group=blood_group if blood_group != \"Not specified\" else None,\n                        allergies=allergies if allergies else None\n                    )\n                    \n                    received_list = []\n                    if received_vaccines:\n                        received_list = [v.strip().lower() for v in received_vaccines.split(',') if v.strip()]\n                    \n                    schedule = generate_vaccination_schedule(dob, country)\n                    for vacc in schedule:\n                        is_received = any(\n                            recv in vacc['vaccine_name'].lower() or \n                            vacc['vaccine_name'].lower() in recv or\n                            recv in vacc['vaccine_code'].lower()\n                            for recv in received_list\n                        )\n                        \n                        vacc_id = db.add_vaccination(\n                            child_id=child_id,\n                            vaccine_name=vacc['vaccine_name'],\n                            vaccine_code=vacc['vaccine_code'],\n                            due_date=vacc['due_date'].isoformat(),\n                            status='completed' if is_received else 'pending'\n                        )\n                        \n                        if is_received:\n                            db.update_vaccination_status(\n                                vacc_id,\n                                status='completed',\n                                administered_date=date.today().isoformat(),\n                                notes='Marked as already received during profile creation'\n                            )\n                    \n                    st.session_state.selected_child_id = child_id\n                    st.session_state.show_add_child = False\n                    completed_count = len([v for v in schedule if any(\n                        recv in v['vaccine_name'].lower() or \n                        v['vaccine_name'].lower() in recv or\n                        recv in v['vaccine_code'].lower()\n                        for recv in received_list\n                    )]) if received_list else 0\n                    if completed_count > 0:\n                        st.success(f\"Child profile for {name} created! {completed_count} vaccine(s) marked as completed.\")\n                    else:\n                        st.success(f\"Child profile for {name} created with vaccination schedule!\")\n                    st.rerun()\n        with col2:\n            if st.form_submit_button(\"Cancel\", width='stretch'):\n                st.session_state.show_add_child = False\n                st.rerun()\n\ndef render_child_profile_card(child):\n    dob = child['date_of_birth']\n    if isinstance(dob, str):\n        dob = date.fromisoformat(dob)\n    \n    from vaccination_guidelines import get_age_string\n    age = get_age_string(dob)\n    \n    with st.expander(f\"{child['name']} - {age}\", expanded=False):\n        col1, col2 = st.columns(2)\n        with col1:\n            st.write(f\"**Date of Birth:** {dob.strftime('%B %d, %Y')}\")\n            st.write(f\"**Age:** {age}\")\n            st.write(f\"**Guideline:** {child['country_guideline']}\")\n        with col2:\n            st.write(f\"**Gender:** {child.get('gender', 'Not specified')}\")\n            st.write(f\"**Blood Group:** {child.get('blood_group', 'Not specified')}\")\n            st.write(f\"**Allergies:** {child.get('allergies', 'None recorded')}\")\n        \n        st.markdown(\"---\")\n        \n        col1, col2, col3 = st.columns(3)\n        with col1:\n            if st.button(\"Edit\", key=f\"edit_{child['id']}\", width='stretch'):\n                st.session_state[f\"edit_child_{child['id']}\"] = True\n        with col2:\n            if st.button(\"Regenerate Schedule\", key=f\"regen_{child['id']}\", width='stretch'):\n                db.delete_all_vaccinations(child['id'])\n                schedule = generate_vaccination_schedule(dob, child['country_guideline'])\n                for vacc in schedule:\n                    db.add_vaccination(\n                        child_id=child['id'],\n                        vaccine_name=vacc['vaccine_name'],\n                        vaccine_code=vacc['vaccine_code'],\n                        due_date=vacc['due_date'].isoformat(),\n                        status='pending'\n                    )\n                st.success(\"Vaccination schedule regenerated!\")\n                st.rerun()\n        with col3:\n            if st.button(\"Delete\", key=f\"delete_{child['id']}\", type=\"secondary\", width='stretch'):\n                st.session_state[f\"confirm_delete_{child['id']}\"] = True\n        \n        if st.session_state.get(f\"confirm_delete_{child['id']}\", False):\n            st.warning(f\"Are you sure you want to delete {child['name']}'s profile? This cannot be undone.\")\n            col1, col2 = st.columns(2)\n            with col1:\n                if st.button(\"Yes, Delete\", key=f\"confirm_yes_{child['id']}\", type=\"primary\"):\n                    db.delete_child(child['id'])\n                    st.session_state[f\"confirm_delete_{child['id']}\"] = False\n                    if st.session_state.get('selected_child_id') == child['id']:\n                        st.session_state.selected_child_id = None\n                    st.success(\"Profile deleted.\")\n                    st.rerun()\n            with col2:\n                if st.button(\"Cancel\", key=f\"confirm_no_{child['id']}\"):\n                    st.session_state[f\"confirm_delete_{child['id']}\"] = False\n                    st.rerun()\n        \n        if st.session_state.get(f\"edit_child_{child['id']}\", False):\n            render_edit_child_form(child)\n\ndef render_edit_child_form(child):\n    dob = child['date_of_birth']\n    if isinstance(dob, str):\n        dob = date.fromisoformat(dob)\n    \n    with st.form(key=f\"edit_child_form_{child['id']}\"):\n        st.subheader(f\"Edit {child['name']}\")\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            name = st.text_input(\"Child's Name\", value=child['name'])\n        with col2:\n            new_dob = st.date_input(\"Date of Birth\", value=dob, max_value=date.today())\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            guidelines = [\"India (UIP)\", \"WHO\", \"CDC (USA)\"]\n            country = st.selectbox(\n                \"Vaccination Guideline\",\n                guidelines,\n                index=guidelines.index(child['country_guideline']) if child['country_guideline'] in guidelines else 0\n            )\n        with col2:\n            genders = [\"Not specified\", \"Male\", \"Female\", \"Other\"]\n            current_gender = child.get('gender', 'Not specified') or 'Not specified'\n            gender = st.selectbox(\n                \"Gender\",\n                genders,\n                index=genders.index(current_gender) if current_gender in genders else 0\n            )\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            blood_groups = [\"Not specified\", \"A+\", \"A-\", \"B+\", \"B-\", \"AB+\", \"AB-\", \"O+\", \"O-\"]\n            current_bg = child.get('blood_group', 'Not specified') or 'Not specified'\n            blood_group = st.selectbox(\n                \"Blood Group\",\n                blood_groups,\n                index=blood_groups.index(current_bg) if current_bg in blood_groups else 0\n            )\n        with col2:\n            allergies = st.text_input(\"Known Allergies\", value=child.get('allergies', '') or '')\n        \n        col1, col2 = st.columns(2)\n        with col1:\n            if st.form_submit_button(\"Save Changes\", type=\"primary\", width='stretch'):\n                db.update_child(\n                    child['id'],\n                    name=name,\n                    date_of_birth=new_dob.isoformat(),\n                    country_guideline=country,\n                    gender=gender if gender != \"Not specified\" else None,\n                    blood_group=blood_group if blood_group != \"Not specified\" else None,\n                    allergies=allergies if allergies else None\n                )\n                st.session_state[f\"edit_child_{child['id']}\"] = False\n                st.success(\"Profile updated!\")\n                st.rerun()\n        with col2:\n            if st.form_submit_button(\"Cancel\", width='stretch'):\n                st.session_state[f\"edit_child_{child['id']}\"] = False\n                st.rerun()\n\ndef render_notification_settings():\n    st.subheader(\"Notification Preferences\")\n    \n    children = db.get_all_children()\n    \n    if not children:\n        st.info(\"Add a child profile first to configure notifications.\")\n        return\n    \n    if 'selected_child_id' not in st.session_state or st.session_state.selected_child_id is None:\n        st.session_state.selected_child_id = children[0]['id']\n    \n    child_options = {c['name']: c['id'] for c in children}\n    selected_name = st.selectbox(\n        \"Select Child for Notification Settings\",\n        options=list(child_options.keys()),\n        index=list(child_options.values()).index(st.session_state.selected_child_id) \n              if st.session_state.selected_child_id in child_options.values() else 0,\n        key=\"notification_child_select\"\n    )\n    child_id = child_options[selected_name]\n    \n    settings = db.get_reminder_settings(child_id) or {}\n    \n    with st.form(key=\"notification_settings_form\"):\n        st.markdown(\"### Email Notifications\")\n        \n        email_enabled = st.checkbox(\n            \"Enable Email Reminders\",\n            value=bool(settings.get('email_enabled', False))\n        )\n        email_address = st.text_input(\n            \"Email Address\",\n            value=settings.get('email_address', ''),\n            placeholder=\"your.email@example.com\"\n        )\n        \n        st.markdown(\"### Reminder Timing\")\n        \n        col1, col2, col3 = st.columns(3)\n        with col1:\n            reminder_7_days = st.checkbox(\n                \"7 days before\",\n                value=bool(settings.get('reminder_7_days', True))\n            )\n        with col2:\n            reminder_1_day = st.checkbox(\n                \"1 day before\",\n                value=bool(settings.get('reminder_1_day', True))\n            )\n        with col3:\n            reminder_on_day = st.checkbox(\n                \"On due date\",\n                value=bool(settings.get('reminder_on_day', True))\n            )\n        \n        st.markdown(\"### SMS Notifications (Coming Soon)\")\n        \n        sms_enabled = st.checkbox(\n            \"Enable SMS Reminders\",\n            value=bool(settings.get('sms_enabled', False)),\n            disabled=True\n        )\n        phone_number = st.text_input(\n            \"Phone Number\",\n            value=settings.get('phone_number', ''),\n            placeholder=\"+1234567890\",\n            disabled=True\n        )\n        st.info(\"SMS notifications require Twilio integration. This feature will be available in a future update.\")\n        \n        if st.form_submit_button(\"Save Notification Settings\", type=\"primary\"):\n            db.save_reminder_settings(\n                child_id=child_id,\n                email_enabled=email_enabled,\n                email_address=email_address,\n                sms_enabled=False,\n                phone_number=phone_number,\n                reminder_7_days=reminder_7_days,\n                reminder_1_day=reminder_1_day,\n                reminder_on_day=reminder_on_day\n            )\n            st.success(\"Notification settings saved!\")\n    \n    st.markdown(\"---\")\n    st.markdown(\"\"\"\n    <div style=\"background-color: #117a8b; padding: 15px; border-radius: 5px; border-left: 4px solid #0c5460; color: white;\">\n        <strong>Email Configuration:</strong> To send email reminders, configure SMTP settings in your environment variables:\n        <ul>\n            <li>SMTP_SERVER - Your SMTP server address</li>\n            <li>SMTP_PORT - SMTP port (default: 587)</li>\n            <li>SMTP_USER - SMTP username/email</li>\n            <li>SMTP_PASSWORD - SMTP password</li>\n        </ul>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n\ndef render_data_management():\n    st.subheader(\"Data Management\")\n    \n    st.markdown(\"### API Configuration\")\n    \n    openai_key = os.environ.get('OPENAI_API_KEY')\n    if openai_key:\n        st.success(\"OpenAI API Key is configured. AI Assistant is available.\")\n    else:\n        st.warning(\"OpenAI API Key is not configured. Please add OPENAI_API_KEY to your secrets to enable the AI Assistant.\")\n    \n    st.markdown(\"---\")\n    st.markdown(\"### Export Data\")\n    st.info(\"Data export functionality will be available in a future update.\")\n    \n    st.markdown(\"---\")\n    st.markdown(\"### Database Information\")\n    \n    children = db.get_all_children()\n    total_vaccinations = 0\n    total_events = 0\n    \n    for child in children:\n        total_vaccinations += len(db.get_vaccinations(child['id']))\n        total_events += len(db.get_health_events(child['id']))\n    \n    col1, col2, col3 = st.columns(3)\n    with col1:\n        st.metric(\"Child Profiles\", len(children))\n    with col2:\n        st.metric(\"Total Vaccinations\", total_vaccinations)\n    with col3:\n        st.metric(\"Health Events\", total_events)\n\ndef render_about():\n    st.subheader(\"About Smart Child Vaccination & Health Assistant\")\n    \n    st.markdown(\"\"\"\n    ### Overview\n    \n    Smart Child Vaccination & Health Assistant is a comprehensive application designed to help parents \n    track and manage their child's vaccination schedule and health history.\n    \n    ### Features\n    \n    - **Personalized Vaccination Scheduler**: Auto-generated schedules based on India UIP, WHO, or CDC guidelines\n    - **Health Timeline**: Track vaccinations, illnesses, symptoms, and doctor visits\n    - **Smart Reminders**: Get notified about upcoming and overdue vaccines\n    - **AI Assistant**: Natural language queries about your child's health and vaccinations\n    - **Voice Input**: Hands-free interaction using voice commands\n    \n    ### Vaccination Guidelines\n    \n    This application supports three major vaccination guidelines:\n    \n    1. **India (UIP)**: Universal Immunization Programme - Government of India\n    2. **WHO**: World Health Organization recommendations\n    3. **CDC (USA)**: Centers for Disease Control and Prevention (United States)\n    \n    ### Technology Stack\n    \n    - **Frontend & Backend**: Streamlit (Python)\n    - **Database**: SQLite\n    - **AI/NLP**: OpenAI GPT-5 & Whisper\n    - **Charts**: Plotly\n    \n    ### Privacy & Security\n    \n    - All data is stored locally in SQLite database\n    - No personal data is shared with third parties\n    - API keys are stored securely as environment secrets\n    \n    ### Medical Disclaimer\n    \n    This application is for informational and tracking purposes only. It is NOT a substitute for \n    professional medical advice, diagnosis, or treatment. Always consult your child's pediatrician \n    or healthcare provider for personalized medical guidance.\n    \n    ---\n    \n    **Version**: 1.0.0  \n    **Last Updated**: December 2025\n    \n    ---\n    \n    *Designed to demonstrate real-world problem solving, data handling, and AI integration \n    suitable for MNC technical evaluations.*\n    \"\"\")\n","path":null,"size_bytes":18358,"size_tokens":null},"replit.md":{"content":"# Smart Child Vaccination & Health Assistant\n\n## Overview\n\nA comprehensive full-stack Streamlit web application designed for parents to track and manage their child's vaccination and health timeline. The application is user-friendly, medically responsible, and scalable.\n\n## Project Structure\n\n```\n‚îú‚îÄ‚îÄ app.py                      # Main Streamlit application entry point\n‚îú‚îÄ‚îÄ database.py                 # SQLite database module with schema and operations\n‚îú‚îÄ‚îÄ vaccination_guidelines.py   # Vaccination schedules (India UIP, WHO, CDC)\n‚îú‚îÄ‚îÄ ai_assistant.py             # OpenAI integration for chat and voice\n‚îú‚îÄ‚îÄ notifications.py            # Email reminder functionality\n‚îú‚îÄ‚îÄ pages/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îú‚îÄ‚îÄ dashboard.py           # Dashboard with overview and charts\n‚îÇ   ‚îú‚îÄ‚îÄ vaccination_schedule.py # Vaccine tracking and completion\n‚îÇ   ‚îú‚îÄ‚îÄ health_timeline.py     # Health events timeline\n‚îÇ   ‚îú‚îÄ‚îÄ assistant.py           # AI chat and voice assistant\n‚îÇ   ‚îî‚îÄ‚îÄ settings.py            # Child profiles and notification settings\n‚îú‚îÄ‚îÄ .streamlit/\n‚îÇ   ‚îî‚îÄ‚îÄ config.toml            # Streamlit server configuration\n‚îî‚îÄ‚îÄ vaccination_health.db      # SQLite database (auto-created)\n```\n\n## Technology Stack\n\n- **Frontend & Backend**: Streamlit (Python)\n- **Database**: SQLite\n- **AI/NLP**: OpenAI GPT-5 & Whisper for chat and voice\n- **Charts**: Plotly for interactive visualizations\n- **Notifications**: SMTP for email reminders\n\n## Features\n\n### 1. Personalized Vaccination Scheduler\n- Auto-generates schedules based on India UIP, WHO, or CDC guidelines\n- Tracks upcoming, overdue, completed, and pending vaccines\n- Mark vaccines as completed with details (date, doctor, batch number)\n\n### 2. Health Timeline & History\n- Visual timeline of vaccinations, illnesses, symptoms, and doctor visits\n- Filterable by category\n- Chronological event tracking\n\n### 3. Smart Reminders & Alerts\n- In-app notifications for overdue and upcoming vaccines\n- Email reminder support (7 days, 1 day, and on due date)\n- Opt-in notification preferences per child\n\n### 4. Voice & Chat-Based AI Assistant\n- Natural language queries about vaccination schedule\n- Voice input using OpenAI Whisper transcription\n- Health guidance with medical disclaimers\n\n### 5. Dashboard\n- Vaccination progress overview\n- Status charts using Plotly\n- Quick action navigation\n\n## Running the Application\n\n```bash\nstreamlit run app.py --server.port 5000\n```\n\n## Environment Variables\n\n### Required\n- `OPENAI_API_KEY`: For AI assistant functionality\n\n### Optional (for email notifications)\n- `SMTP_SERVER`: SMTP server address\n- `SMTP_PORT`: SMTP port (default: 587)\n- `SMTP_USER`: SMTP username\n- `SMTP_PASSWORD`: SMTP password\n\n## Database Schema\n\n### Tables\n1. **children**: Child profiles with DOB, guideline selection, allergies\n2. **vaccinations**: Vaccine records with due dates and completion status\n3. **health_events**: Illnesses, symptoms, and doctor visits\n4. **reminder_settings**: Notification preferences per child\n5. **sent_reminders**: Tracking of sent notifications\n\n## Vaccination Guidelines Supported\n\n1. **India (UIP)**: Universal Immunization Programme\n2. **WHO**: World Health Organization recommendations\n3. **CDC (USA)**: Centers for Disease Control and Prevention\n\n## Medical Disclaimer\n\nThis application provides general vaccination tracking and health information. It is NOT a substitute for professional medical advice, diagnosis, or treatment. Always consult your child's pediatrician for personalized medical guidance.\n\n## Future Enhancements\n\n- PostgreSQL migration for production\n- Twilio SMS integration\n- Multi-child profile management\n- PDF report generation\n- Vaccine certificate with QR codes\n- Multi-language support\n","path":null,"size_bytes":3802,"size_tokens":null},"pages/vaccination_timeline.py":{"content":"import streamlit as st\nimport json\n\ndef load_vaccine_data():\n    \"\"\"Load vaccine data from JSON files\"\"\"\n    data = {\n        \"India (UIP)\": None,\n        \"WHO\": None\n    }\n    \n    try:\n        with open(\"data/vaccines_uip_india.json\", \"r\") as f:\n            data[\"India (UIP)\"] = json.load(f)\n    except FileNotFoundError:\n        pass\n    \n    try:\n        with open(\"data/vaccines_who.json\", \"r\") as f:\n            data[\"WHO\"] = json.load(f)\n    except FileNotFoundError:\n        pass\n    \n    return data\n\ndef render():\n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">üìà Vaccination Timeline</h1>', unsafe_allow_html=True)\n    st.markdown(\"A visual guide showing when your child needs each vaccine.\")\n    \n    vaccine_data = load_vaccine_data()\n    \n    guideline = st.selectbox(\n        \"Select Vaccination Guideline\",\n        [\"India (UIP)\", \"WHO\"],\n        help=\"Choose the vaccination guideline to view the recommended schedule\"\n    )\n    \n    if guideline not in vaccine_data or vaccine_data[guideline] is None:\n        st.error(f\"‚ö†Ô∏è Vaccine data for {guideline} is not available\")\n        return\n    \n    data = vaccine_data[guideline]\n    \n    st.info(f\"\"\"\n    **{data.get('name', guideline)}**  \n    Source: {data.get('source', 'Unknown')}\n    \"\"\")\n    \n    st.markdown(\"---\")\n    \n    vaccines = data.get('vaccines', [])\n    \n    col1, col2 = st.columns(2)\n    with col1:\n        st.metric(\"Total Vaccines\", len(vaccines))\n    with col2:\n        age_groups = set([v['age_label'] for v in vaccines])\n        st.metric(\"Age Groups\", len(age_groups))\n    \n    st.markdown(\"---\")\n    st.subheader(\"üìÖ Vaccination Schedule by Age\")\n    \n    age_groups = {}\n    for vaccine in vaccines:\n        age_label = vaccine['age_label']\n        if age_label not in age_groups:\n            age_groups[age_label] = {\n                'weeks': vaccine['age_weeks'],\n                'vaccines': []\n            }\n        age_groups[age_label]['vaccines'].append(vaccine)\n    \n    sorted_groups = sorted(age_groups.items(), key=lambda x: x[1]['weeks'])\n    \n    for age_label, group_data in sorted_groups:\n        vaccines_in_group = group_data['vaccines']\n        vaccine_count = len(vaccines_in_group)\n        vaccine_text = \"vaccine\" if vaccine_count == 1 else \"vaccines\"\n        \n        with st.expander(f\"**{age_label}** ‚Äî {vaccine_count} {vaccine_text} üíâ\", expanded=False):\n            for vaccine in vaccines_in_group:\n                doses_text = f\"({vaccine['doses']} dose{'s' if vaccine['doses'] > 1 else ''})\"\n                \n                st.markdown(f\"\"\"\n                <div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 15px; border-radius: 8px; margin-bottom: 12px; color: white;\">\n                    <div style=\"font-weight: 700; font-size: 15px; margin-bottom: 5px;\">\n                        {vaccine['name']}\n                    </div>\n                    <div style=\"font-size: 13px; opacity: 0.9; margin-bottom: 5px;\">\n                        {vaccine['full_name']} {doses_text}\n                    </div>\n                    <div style=\"font-size: 12px; opacity: 0.85;\">\n                        üìù {vaccine['description']}\n                    </div>\n                    <div style=\"font-size: 12px; opacity: 0.8; margin-top: 5px;\">\n                        ‚ÑπÔ∏è {vaccine['notes']}\n                    </div>\n                </div>\n                \"\"\", unsafe_allow_html=True)\n    \n    st.markdown(\"---\")\n    st.markdown(\"\"\"\n    <div class=\"info-box\" style=\"background: #f0f7ff; border-left: 4px solid #667eea; padding: 1.5rem; border-radius: 8px;\">\n        <h3 style=\"color: #667eea; margin: 0 0 0.5rem 0;\">üí° Important</h3>\n        <p style=\"color: #333; margin: 0;\">This timeline shows the standard recommended vaccination schedule. Always consult your pediatrician for advice specific to your child's health needs. Some vaccines may need to be adjusted based on your child's medical history.</p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n","path":null,"size_bytes":4025,"size_tokens":null},"pages/signup.py":{"content":"import streamlit as st\n\ndef render():\n    st.markdown(\"\"\"\n    <style>\n        /* Improve text input styling */\n        [data-testid=\"stTextInput\"] input {\n            font-size: 1rem !important;\n            padding: 14px 16px !important;\n            border-radius: 12px !important;\n            border: 2px solid #ddd !important;\n            background-color: #f8f9fa !important;\n            transition: all 0.3s ease !important;\n            color: #1a1a1a !important;\n        }\n        [data-testid=\"stTextInput\"] input::placeholder {\n            color: #999 !important;\n        }\n        [data-testid=\"stTextInput\"] input:focus {\n            border-color: #667eea !important;\n            background-color: #ffffff !important;\n            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15) !important;\n            outline: none !important;\n        }\n        [data-testid=\"stTextInput\"] label {\n            color: #000000 !important;\n        }\n        [data-testid=\"stTextInput\"] label span {\n            color: #000000 !important;\n        }\n        /* Improve checkbox styling */\n        [data-testid=\"stCheckbox\"] {\n            color: #000000 !important;\n        }\n        [data-testid=\"stCheckbox\"] label {\n            color: #000000 !important;\n        }\n        [data-testid=\"stCheckbox\"] span {\n            color: #000000 !important;\n        }\n        [data-testid=\"stCheckbox\"] * {\n            color: #000000 !important;\n        }\n        /* Style buttons */\n        [data-testid=\"baseButton-primary\"] {\n            font-weight: 600 !important;\n            font-size: 1.05em !important;\n            border-radius: 12px !important;\n        }\n        [data-testid=\"baseButton-secondary\"] {\n            font-weight: 600 !important;\n            font-size: 1.05em !important;\n            border-radius: 12px !important;\n        }\n    </style>\n    \"\"\", unsafe_allow_html=True)\n    \n    col1, col2, col3 = st.columns([1, 2, 1])\n    \n    with col2:\n        st.markdown(\"\"\"\n        <div style=\"text-align: center; margin-bottom: 3rem; margin-top: 2rem;\">\n            <h1 style=\"color: #667eea; font-size: 2.5rem; margin: 0; font-weight: 900;\">Create Account</h1>\n            <p style=\"color: #1a1a1a; margin-top: 0.75rem; font-size: 1.1rem; font-weight: 500;\">Join KinderCare to track your child's health</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n        \n        st.markdown('<div style=\"background: #ffffff; padding: 2.5rem; border-radius: 14px; box-shadow: 0 8px 32px rgba(102, 126, 234, 0.12); border: 1px solid rgba(102, 126, 234, 0.15);\">', unsafe_allow_html=True)\n        \n        name = st.text_input(\"üë§ Full Name\", placeholder=\"Your Full Name\", key=\"signup_name\")\n        email = st.text_input(\"üìß Email Address\", placeholder=\"your@email.com\", key=\"signup_email\")\n        password = st.text_input(\"üîê Password\", type=\"password\", placeholder=\"Create a strong password\", key=\"signup_password\")\n        confirm_password = st.text_input(\"üîê Confirm Password\", type=\"password\", placeholder=\"Re-enter your password\", key=\"signup_confirm\")\n        \n        st.markdown(\"<div style='height: 0.5rem;'></div>\", unsafe_allow_html=True)\n        \n        col_terms, col_space = st.columns([5, 1])\n        with col_terms:\n            agree_terms = st.checkbox(\"I agree to the Terms & Conditions\", key=\"terms_agree\", value=False)\n        \n        st.markdown(\"<div style='height: 1rem;'></div>\", unsafe_allow_html=True)\n        \n        if st.button(\"‚úçÔ∏è Create Account\", key=\"signup_btn\", use_container_width=True, type=\"primary\"):\n            if not name or not email or not password or not confirm_password:\n                st.error(\"‚ùå Please fill all fields\")\n            elif password != confirm_password:\n                st.error(\"‚ùå Passwords don't match\")\n            elif not agree_terms:\n                st.error(\"‚ùå Please agree to Terms & Conditions\")\n            elif len(password) < 6:\n                st.error(\"‚ùå Password must be at least 6 characters long\")\n            else:\n                st.success(\"‚úÖ Account created successfully!\")\n                st.session_state.logged_in = True\n                st.session_state.current_page = \"Dashboard\"\n                st.rerun()\n        \n        st.markdown(\"<div style='height: 1.5rem;'></div>\", unsafe_allow_html=True)\n        st.markdown('<hr style=\"border: none; border-top: 1px solid #ddd; margin: 1rem 0;\">', unsafe_allow_html=True)\n        st.markdown(\"<div style='height: 0.5rem;'></div>\", unsafe_allow_html=True)\n        \n        col_text, col_btn = st.columns([2, 1])\n        with col_text:\n            st.markdown('<p style=\"color: #1a1a1a; margin: 0; font-weight: 500;\">Already have an account?</p>', unsafe_allow_html=True)\n        with col_btn:\n            if st.button(\"Login\", key=\"switch_to_login\", use_container_width=True, type=\"secondary\"):\n                st.session_state.current_page = \"Login\"\n                st.rerun()\n        \n        st.markdown(\"</div>\", unsafe_allow_html=True)\n","path":null,"size_bytes":4991,"size_tokens":null},"pages/about_us.py":{"content":"import streamlit as st\n\ndef render():\n    st.markdown('<h1 style=\"color: #667eea; margin-top: 0;\">‚ÑπÔ∏è About Us</h1>', unsafe_allow_html=True)\n    \n    st.markdown(\"\"\"\n    <div style=\"background: #f9f9f9; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;\">\n        <h3 style=\"color: #667eea; margin-top: 0;\">Welcome to KinderCare</h3>\n        <p style=\"color: #333; line-height: 1.8;\">\n            KinderCare is a comprehensive child health and vaccination management platform designed to help parents and caregivers track their children's vaccinations and health records with ease. Our mission is to make child healthcare management simple, accessible, and stress-free for every family.\n        </p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n    \n    st.markdown(\"\"\"\n    <div style=\"background: #f9f9f9; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;\">\n        <h3 style=\"color: #667eea; margin-top: 0;\">Our Mission</h3>\n        <p style=\"color: #333; line-height: 1.8;\">\n            We believe that every child deserves the best healthcare. KinderCare empowers parents with the tools and information they need to manage their child's health effectively. From vaccination schedules to health records and AI-powered health guidance, we're here to support your child's wellbeing every step of the way.\n        </p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n    \n    st.markdown(\"\"\"\n    <div style=\"background: #f9f9f9; padding: 2rem; border-radius: 8px; margin-bottom: 2rem;\">\n        <h3 style=\"color: #667eea; margin-top: 0;\">Key Features</h3>\n        <ul style=\"color: #333; line-height: 1.8;\">\n            <li><strong>Vaccination Tracking:</strong> Never miss a vaccine with our intelligent scheduling system</li>\n            <li><strong>Health Records:</strong> Maintain comprehensive health records for your children</li>\n            <li><strong>AI Health Assistant:</strong> Get instant answers to your health and vaccination questions</li>\n            <li><strong>Disease Information:</strong> Learn about common childhood illnesses and remedies</li>\n            <li><strong>Multiple Standards:</strong> Support for India UIP, WHO, and other vaccination guidelines</li>\n        </ul>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n    \n    st.markdown(\"\"\"\n    <div style=\"background: #f9f9f9; padding: 2rem; border-radius: 8px;\">\n        <h3 style=\"color: #667eea; margin-top: 0;\">Contact & Support</h3>\n        <p style=\"color: #333; line-height: 1.8;\">\n            For questions, feedback, or support, please reach out to us. We're committed to providing the best service to help you care for your child's health.\n        </p>\n    </div>\n    \"\"\", unsafe_allow_html=True)\n","path":null,"size_bytes":2698,"size_tokens":null},"pages/home.py":{"content":"import streamlit as st\n\ndef render():\n    pass\n","path":null,"size_bytes":47,"size_tokens":null},"pages/login.py":{"content":"import streamlit as st\n\ndef render():\n    st.markdown(\"\"\"\n    <style>\n        /* Improve text input styling */\n        [data-testid=\"stTextInput\"] input {\n            font-size: 1rem !important;\n            padding: 14px 16px !important;\n            border-radius: 12px !important;\n            border: 2px solid #ddd !important;\n            background-color: #f8f9fa !important;\n            transition: all 0.3s ease !important;\n            color: #1a1a1a !important;\n        }\n        [data-testid=\"stTextInput\"] input::placeholder {\n            color: #999 !important;\n        }\n        [data-testid=\"stTextInput\"] input:focus {\n            border-color: #667eea !important;\n            background-color: #ffffff !important;\n            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15) !important;\n            outline: none !important;\n        }\n        [data-testid=\"stTextInput\"] label {\n            color: #000000 !important;\n        }\n        [data-testid=\"stTextInput\"] label span {\n            color: #000000 !important;\n        }\n        /* Improve checkbox styling */\n        [data-testid=\"stCheckbox\"] {\n            color: #000000 !important;\n        }\n        [data-testid=\"stCheckbox\"] label {\n            color: #000000 !important;\n        }\n        [data-testid=\"stCheckbox\"] span {\n            color: #000000 !important;\n        }\n        [data-testid=\"stCheckbox\"] * {\n            color: #000000 !important;\n        }\n        /* Style buttons */\n        [data-testid=\"baseButton-primary\"] {\n            font-weight: 600 !important;\n            font-size: 1.05em !important;\n            border-radius: 12px !important;\n        }\n        [data-testid=\"baseButton-secondary\"] {\n            font-weight: 600 !important;\n            font-size: 1.05em !important;\n            border-radius: 12px !important;\n        }\n    </style>\n    \"\"\", unsafe_allow_html=True)\n    \n    col1, col2, col3 = st.columns([1, 2, 1])\n    \n    with col2:\n        st.markdown(\"\"\"\n        <div style=\"text-align: center; margin-bottom: 3rem; margin-top: 2rem;\">\n            <h1 style=\"color: #667eea; font-size: 2.5rem; margin: 0; font-weight: 900;\">Welcome Back</h1>\n            <p style=\"color: #1a1a1a; margin-top: 0.75rem; font-size: 1.1rem; font-weight: 500;\">Sign in to your KinderCare account</p>\n        </div>\n        \"\"\", unsafe_allow_html=True)\n        \n        st.markdown('<div style=\"background: #ffffff; padding: 2.5rem; border-radius: 14px; box-shadow: 0 8px 32px rgba(102, 126, 234, 0.12); border: 1px solid rgba(102, 126, 234, 0.15);\">', unsafe_allow_html=True)\n        \n        email = st.text_input(\"üìß Email Address\", placeholder=\"your@email.com\", key=\"login_email\")\n        password = st.text_input(\"üîê Password\", type=\"password\", placeholder=\"Enter your password\", key=\"login_password\")\n        \n        st.markdown(\"<div style='height: 0.5rem;'></div>\", unsafe_allow_html=True)\n        \n        col_remember, col_forgot = st.columns([1, 1])\n        with col_remember:\n            st.checkbox(\"Remember me\", key=\"remember_login\", value=False)\n        with col_forgot:\n            st.markdown('<p style=\"text-align: right; color: #667eea; cursor: pointer; margin: 0; font-weight: 500;\">üîó Forgot Password?</p>', unsafe_allow_html=True)\n        \n        st.markdown(\"<div style='height: 1rem;'></div>\", unsafe_allow_html=True)\n        \n        if st.button(\"üîì Login\", key=\"login_btn\", use_container_width=True, type=\"primary\"):\n            if email and password:\n                st.success(\"‚úÖ Login successful!\")\n                st.session_state.logged_in = True\n                st.session_state.current_page = \"Dashboard\"\n                st.rerun()\n            else:\n                st.error(\"‚ùå Please enter both email and password\")\n        \n        st.markdown(\"<div style='height: 1.5rem;'></div>\", unsafe_allow_html=True)\n        st.markdown('<hr style=\"border: none; border-top: 1px solid #ddd; margin: 1rem 0;\">', unsafe_allow_html=True)\n        st.markdown(\"<div style='height: 0.5rem;'></div>\", unsafe_allow_html=True)\n        \n        col_text, col_btn = st.columns([2, 1])\n        with col_text:\n            st.markdown('<p style=\"color: #1a1a1a; margin: 0; font-weight: 500;\">Don\\'t have an account?</p>', unsafe_allow_html=True)\n        with col_btn:\n            if st.button(\"Sign Up\", key=\"switch_to_signup\", use_container_width=True, type=\"secondary\"):\n                st.session_state.current_page = \"Sign Up\"\n                st.rerun()\n        \n        st.markdown(\"</div>\", unsafe_allow_html=True)\n","path":null,"size_bytes":4538,"size_tokens":null}},"version":2}